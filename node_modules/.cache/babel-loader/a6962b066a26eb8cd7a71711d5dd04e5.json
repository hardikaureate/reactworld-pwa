{"ast":null,"code":"import t, { useRef as r, useState as e, useMemo as n, useCallback as o, useEffect as i } from \"react\";\n\nfunction a() {\n  return (a = Object.assign || function (t) {\n    for (var r = 1; r < arguments.length; r++) {\n      var e = arguments[r];\n\n      for (var n in e) {\n        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction c(t) {\n  return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  })(t);\n}\n\nfunction u(t, r) {\n  return (u = Object.setPrototypeOf || function (t, r) {\n    return t.__proto__ = r, t;\n  })(t, r);\n}\n\nfunction s() {\n  if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n  if (Reflect.construct.sham) return !1;\n  if (\"function\" == typeof Proxy) return !0;\n\n  try {\n    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n  } catch (t) {\n    return !1;\n  }\n}\n\nfunction d(t, r, e) {\n  return (d = s() ? Reflect.construct : function (t, r, e) {\n    var n = [null];\n    n.push.apply(n, r);\n    var o = new (Function.bind.apply(t, n))();\n    return e && u(o, e.prototype), o;\n  }).apply(null, arguments);\n}\n\nfunction f(t) {\n  var r = \"function\" == typeof Map ? new Map() : void 0;\n  return (f = function f(t) {\n    if (null === t || -1 === Function.toString.call(t).indexOf(\"[native code]\")) return t;\n    if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n\n    if (void 0 !== r) {\n      if (r.has(t)) return r.get(t);\n      r.set(t, e);\n    }\n\n    function e() {\n      return d(t, arguments, c(this).constructor);\n    }\n\n    return e.prototype = Object.create(t.prototype, {\n      constructor: {\n        value: e,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), u(e, t);\n  })(t);\n}\n\nfunction l(t, r) {\n  if (null == t) return {};\n  var e,\n      n,\n      o = {},\n      i = Object.keys(t);\n\n  for (n = 0; n < i.length; n++) {\n    r.indexOf(e = i[n]) >= 0 || (o[e] = t[e]);\n  }\n\n  return o;\n}\n\nfunction h(t) {\n  if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return t;\n}\n\nfunction m(t, r) {\n  return r || (r = t.slice(0)), t.raw = r, t;\n}\n\nvar p,\n    v,\n    y,\n    P,\n    g,\n    I,\n    C,\n    w,\n    b,\n    _,\n    k,\n    S,\n    E,\n    j = [\"shopify\", \"big_commerce\"],\n    A = [\"graphql\", \"rest\", \"management\"],\n    T = /(query|mutation) ?([\\w\\d-_]+)? ?\\(.*?\\)? \\{/;\n\nfunction F(t) {\n  var r = Array.isArray(t) ? [].concat(t, [].slice.call(arguments, 1)).join(\"\") : t,\n      e = T.exec(r);\n  return function (t) {\n    var n = {\n      query: r\n    };\n    return t && (n.variables = t), e && e.length && e[2] && (n.operationName = e[2]), JSON.stringify(n);\n  };\n}\n\nvar D = \"\\n  fragment ProductVariantPricePairConnectionFragment on ProductVariantPricePairConnection {\\n    pageInfo {\\n      hasNextPage\\n      hasPreviousPage\\n    }\\n    edges {\\n      node {\\n        price {\\n          amount\\n          currencyCode\\n        }\\n        compareAtPrice {\\n          amount\\n          currencyCode\\n        }\\n      }\\n    }\\n  }\\n\",\n    N = \"\\n  fragment ImageConnectionFragment on ImageConnection {\\n    pageInfo {\\n      hasNextPage\\n      hasPreviousPage\\n    }\\n    edges {\\n      cursor\\n      node {\\n        id\\n        src\\n        altText\\n      }\\n    }\\n  }\\n\",\n    O = \"\\n  fragment ProductVariantFragment on ProductVariant {\\n    id\\n    title\\n    price\\n    priceV2 {\\n      amount\\n      currencyCode\\n    }\\n    presentmentPrices(first: 20) {\\n      ...ProductVariantPricePairConnectionFragment\\n    }\\n    weight\\n    quantityAvailable\\n    available: availableForSale\\n    sku\\n    compareAtPrice\\n    compareAtPriceV2 {\\n      amount\\n      currencyCode\\n    }\\n    image {\\n      id\\n      src: originalSrc\\n      altText\\n    }\\n    selectedOptions {\\n      name\\n      value\\n    }\\n    unitPrice {\\n      amount\\n      currencyCode\\n    }\\n    unitPriceMeasurement {\\n      measuredType\\n      quantityUnit\\n      quantityValue\\n      referenceUnit\\n      referenceValue\\n    }\\n  }\\n\",\n    q = \"\\n  fragment ProductFragment on Product {\\n    id\\n    availableForSale\\n    createdAt\\n    updatedAt\\n    descriptionHtml\\n    description\\n    handle\\n    productType\\n    title\\n    vendor\\n    publishedAt\\n    onlineStoreUrl\\n    options {\\n      name\\n      values\\n    }\\n    images(first: 250) {\\n      ...ImageConnectionFragment\\n    }\\n    variants(first: 250) {\\n      pageInfo {\\n        hasNextPage\\n        hasPreviousPage\\n      }\\n      edges {\\n        cursor\\n        node {\\n          ...ProductVariantFragment\\n        }\\n      }\\n    }\\n  }\\n\",\n    x = \"\\n  fragment UserErrorFragment on UserError {\\n    field\\n    message\\n  }\\n\",\n    U = \"\\n  fragment CheckoutUserErrorFragment on CheckoutUserError {\\n    field\\n    message\\n    code\\n  }\\n\",\n    V = \"\\n  fragment DiscountApplicationFragment on DiscountApplication {\\n    targetSelection\\n    allocationMethod\\n    targetType\\n    value {\\n      ... on MoneyV2 {\\n        amount\\n        currencyCode\\n      }\\n      ... on PricingPercentageValue {\\n        percentage\\n      }\\n    }\\n    ... on ManualDiscountApplication {\\n      title\\n      description\\n    }\\n    ... on DiscountCodeApplication {\\n      code\\n      applicable\\n    }\\n    ... on ScriptDiscountApplication {\\n      description\\n    }\\n    ... on AutomaticDiscountApplication {\\n      title\\n    }\\n  }\\n\",\n    $ = \"\\n  fragment VariantWithProductFragment on ProductVariant {\\n    ...ProductVariantFragment\\n    product {\\n      id\\n      handle\\n    }\\n  }\\n\",\n    R = \"\\n  fragment CheckoutLineItemConnectionFragment on CheckoutLineItemConnection {\\n    pageInfo {\\n      hasNextPage\\n      hasPreviousPage\\n    }\\n    edges {\\n      cursor\\n      node {\\n        id\\n        title\\n        variant {\\n          ...VariantWithProductFragment\\n        }\\n        quantity\\n        customAttributes {\\n          key\\n          value\\n        }\\n        discountAllocations {\\n          allocatedAmount {\\n            amount\\n            currencyCode\\n          }\\n          discountApplication {\\n            ...DiscountApplicationFragment\\n          }\\n        }\\n      }\\n    }\\n  }\\n\",\n    M = \"\\n  fragment CheckoutFragment on Checkout {\\n    id\\n    webUrl\\n    subtotalPrice\\n    subtotalPriceV2 {\\n      amount\\n      currencyCode\\n    }\\n    totalPriceV2 {\\n      amount\\n      currencyCode\\n    }\\n    lineItems(first: 250) {\\n      ...CheckoutLineItemConnectionFragment\\n    }\\n    completedAt\\n  }\\n\",\n    L = F(p || (p = m([\"\\n  query Product($handle: String!) {\\n    productByHandle(handle: $handle) {\\n      ...ProductFragment\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), q, O, N, D),\n    K = F(v || (v = m([\"\\n  query Product($id: ID!) {\\n    node(id: $id) {\\n      ...ProductFragment\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), q, O, N, D),\n    z = F(y || (y = m([\"\\n  mutation CreateCheckout($input: CheckoutCreateInput!) {\\n    checkoutCreate(input: $input) {\\n      userErrors {\\n        ...UserErrorFragment\\n      }\\n      checkoutUserErrors {\\n        ...CheckoutUserErrorFragment\\n      }\\n      checkout {\\n        ...CheckoutFragment\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), x, U, M, V, $, O, D, R),\n    B = F(P || (P = m([\"\\n  query CheckoutLineItems($checkoutId: ID!, $pageSize: Int!, $cursor: String) {\\n    node(id: $checkoutId) {\\n      ... on Checkout {\\n        lineItems(first: $pageSize, after: $cursor) {\\n          ...CheckoutLIneItemConnectionFragment\\n        }\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), R, V, $, O, N, D),\n    H = F(g || (g = m([\"\\n  query Checkout($id: ID!) {\\n    node(id: $id) {\\n      ... on Checkout {\\n        ...CheckoutFragment\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), M, V, $, O, D, R),\n    J = F(I || (I = m([\"\\n  query PresentmentPrices($productVariantId: ID!, $pageSize: Int!, $cursor: String) {\\n    node(id: $productVariantId) {\\n      ... on ProductVariant {\\n        presentmentPrices(first: $pageSize, after: $cursor) {\\n          ...ProductVariantPricePairConnectionFragment\\n        }\\n      }\\n    }\\n  }\\n  \", \"\\n\"])), D),\n    Q = F(C || (C = m([\"\\n  query ProductImages($productId: ID!, $pageSize: Int!, $cursor: String) {\\n    node(id: $productId) {\\n      ... on Product {\\n        images(first: $pageSize, after: $cursor) {\\n          ...ImageConnectionFragment\\n        }\\n      }\\n    }\\n  }\\n  \", \"\\n\"])), N),\n    W = F(w || (w = m([\"\\n  query ProductVariant($id: ID!) {\\n    node(id: $id) {\\n      ... on ProductVariant {\\n        ...VariantWithProductFragment\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), O, $, D),\n    G = F(b || (b = m([\"\\n  query ProductVariants($productId: ID!, $pageSize: Int!, $cursor: String) {\\n    node(id: $id) {\\n      ... on Product {\\n        variants(first: $pageSize, after: $cursor) {\\n          ...ProductVariantFragment\\n        }\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n\"])), O, D),\n    X = F(_ || (_ = m([\"\\n  mutation RemoveCheckoutLineItems($checkoutId: ID!, $lineItemIds: [ID!]!) {\\n    checkoutLineItemsRemove(checkoutId: $checkoutId, lineItemIds: $lineItemIds) {\\n      userErrors {\\n        ...UserErrorFragment\\n      }\\n      checkoutUserErrors {\\n        ...CheckoutUserErrorFragment\\n      }\\n      checkout {\\n        ...CheckoutFragment\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), x, U, M, V, $, O, D, R),\n    Z = F(k || (k = m([\"\\n  mutation UpdateCheckoutLineItems($checkoutId: ID!, $lineItems: [CheckoutLineItemUpdateInput!]!) {\\n    checkoutLineItemsUpdate(checkoutId: $checkoutId, lineItems: $lineItems) {\\n      userErrors {\\n        ...UserErrorFragment\\n      }\\n      checkoutUserErrors {\\n        ...CheckoutUserErrorFragment\\n      }\\n      checkout {\\n        ...CheckoutFragment\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), x, U, M, V, $, O, D, R),\n    Y = F(S || (S = m([\"\\n  mutation AddCheckoutLineItems($checkoutId: ID!, $lineItems: [CheckoutLineItemInput!]!) {\\n    checkoutLineItemsAdd(checkoutId: $checkoutId, lineItems: $lineItems) {\\n      userErrors {\\n        ...UserErrorFragment\\n      }\\n      checkoutUserErrors {\\n        ...CheckoutUserErrorFragment\\n      }\\n      checkout {\\n        ...CheckoutFragment\\n      }\\n    }\\n  }\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n  \", \"\\n\"])), x, U, M, V, $, O, D, R),\n    tt = F(E || (E = m([\"\\n  query getCurrencies {\\n    shop {\\n      paymentSettings {\\n        enabledPresentmentCurrencies\\n      }\\n    }\\n  }\\n\"])));\n\nfunction rt(t, r, e) {\n  if (!t.s) {\n    if (e instanceof nt) {\n      if (!e.s) return void (e.o = rt.bind(null, t, r));\n      1 & r && (r = e.s), e = e.v;\n    }\n\n    if (e && e.then) return void e.then(rt.bind(null, t, r), rt.bind(null, t, 2));\n    t.s = r, t.v = e;\n    var n = t.o;\n    n && n(t);\n  }\n}\n\nvar et = function et(t, r) {\n  try {\n    return Promise.resolve(it(t, r)).then(function (t) {\n      return t.flatMap(function (t) {\n        return t.edges.map(function (t) {\n          return t.node;\n        });\n      });\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    nt = function () {\n  function t() {}\n\n  return t.prototype.then = function (r, e) {\n    var n = new t(),\n        o = this.s;\n\n    if (o) {\n      var i = 1 & o ? r : e;\n\n      if (i) {\n        try {\n          rt(n, 1, i(this.v));\n        } catch (t) {\n          rt(n, 2, t);\n        }\n\n        return n;\n      }\n\n      return this;\n    }\n\n    return this.o = function (t) {\n      try {\n        var o = t.v;\n        1 & t.s ? rt(n, 1, r ? r(o) : o) : e ? rt(n, 1, e(o)) : rt(n, 2, o);\n      } catch (t) {\n        rt(n, 2, t);\n      }\n    }, n;\n  }, t;\n}();\n\nfunction ot(t) {\n  return t instanceof nt && 1 & t.s;\n}\n\nvar it = function it(t, r) {\n  try {\n    var e,\n        n = [t],\n        o = t;\n    if (!o.pageInfo.hasNextPage) return Promise.resolve(n);\n\n    var i = function (t, r, e) {\n      for (var n;;) {\n        var o = t();\n        if (ot(o) && (o = o.v), !o) return i;\n\n        if (o.then) {\n          n = 0;\n          break;\n        }\n\n        var i = e();\n\n        if (i && i.then) {\n          if (!ot(i)) {\n            n = 1;\n            break;\n          }\n\n          i = i.s;\n        }\n      }\n\n      var a = new nt(),\n          c = rt.bind(null, a, 2);\n      return (0 === n ? o.then(s) : 1 === n ? i.then(u) : (void 0).then(function () {\n        (o = t()) ? o.then ? o.then(s).then(void 0, c) : s(o) : rt(a, 1, i);\n      })).then(void 0, c), a;\n\n      function u(r) {\n        i = r;\n\n        do {\n          if (!(o = t()) || ot(o) && !o.v) return void rt(a, 1, i);\n          if (o.then) return void o.then(s).then(void 0, c);\n          ot(i = e()) && (i = i.v);\n        } while (!i || !i.then);\n\n        i.then(u).then(void 0, c);\n      }\n\n      function s(t) {\n        t ? (i = e()) && i.then ? i.then(u).then(void 0, c) : u(i) : rt(a, 1, i);\n      }\n    }(function () {\n      return !e && !!o.pageInfo.hasNextPage;\n    }, 0, function () {\n      var t = o.edges[o.edges.length - 1];\n      if (null != t) return Promise.resolve(r(t.cursor)).then(function (t) {\n        null != t ? (n.push(t), o = t) : e = 1;\n      });\n      e = 1;\n    });\n\n    return Promise.resolve(i && i.then ? i.then(function () {\n      return n;\n    }) : n);\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    at = function at(t, r) {\n  try {\n    return Promise.resolve(ct(t, r)).then(function (r) {\n      return a({}, r, {\n        product: t.product\n      });\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    ct = function ct(t, r) {\n  try {\n    return Promise.resolve(et(t.presentmentPrices, function (e) {\n      return r.fetchPresentmentPricesPage(t.id, e);\n    })).then(function (r) {\n      return a({}, t, {\n        presentmentPrices: r\n      });\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    ut = function ut(t, r) {\n  try {\n    return Promise.resolve(et(t.lineItems, function (e) {\n      return r.fetchCheckoutLineItemsPage(t.id, e);\n    }).then(function (t) {\n      return t.map(function (t) {\n        return function (t, r) {\n          try {\n            var e = function e(r) {\n              return a({}, t, {\n                variant: r\n              });\n            };\n\n            return Promise.resolve(null != t.variant ? Promise.resolve(at(t.variant, r)).then(e) : e(null));\n          } catch (t) {\n            return Promise.reject(t);\n          }\n        }(t, r);\n      });\n    }).then(function (t) {\n      return Promise.all(t);\n    })).then(function (e) {\n      return a({}, t, {\n        checkoutUrl: dt(t.webUrl, r),\n        lineItemCount: e.length,\n        lineItems: e\n      });\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    st = function st(t, r) {\n  try {\n    var e = et(t.images, function (e) {\n      return r.fetchProductImagesPage(t.id, e);\n    }),\n        n = et(t.variants, function (e) {\n      return r.fetchProductVariantsPage(t.id, e);\n    }).then(function (t) {\n      return t.map(function (t) {\n        return ct(t, r);\n      });\n    }).then(function (t) {\n      return Promise.all(t);\n    });\n    return Promise.resolve(Promise.all([e, n])).then(function (r) {\n      return a({}, t, {\n        images: r[0],\n        variants: r[1]\n      });\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n};\n\nfunction dt(t, r) {\n  var e = r.storeDomain,\n      n = r.platformDomain;\n  return null != e && null != n ? t.replace(n, e) : t;\n}\n\nfunction ft(t) {\n  var r, e;\n  if (null != (r = t.userErrors) && r.length) throw new Error(JSON.stringify(t.userErrors));\n  if (null != (e = t.checkoutUserErrors) && e.length) throw new Error(JSON.stringify(t.checkoutUserErrors));\n  if (null == t || !t.checkout) throw new Error(\"The checkoutCreate mutation failed due to an unknown error.\");\n  return t.checkout;\n}\n\nvar lt = function () {\n  function t(t) {\n    this.apiUrl = void 0, this.platformDomain = void 0, this.storeDomain = void 0, this.defaultHeaders = void 0;\n    var r = t.storefrontAccessToken,\n        e = t.storeDomain;\n    this.platformDomain = t.platformDomain, this.storeDomain = e;\n\n    var n = function (t, r) {\n      return r ? \"https://\" + r : t ? \"https://\" + t : \"\";\n    }(this.storeDomain, this.platformDomain);\n\n    this.apiUrl = n + \"/api/2021-07/graphql\", this.defaultHeaders = {\n      \"X-Shopify-Storefront-Access-Token\": r,\n      \"Accept-Language\": \"*\",\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    };\n  }\n\n  var r = t.prototype;\n  return r.fetchProductByHandle = function (t) {\n    try {\n      var r = this,\n          e = L({\n        handle: t\n      });\n      return Promise.resolve(r.post(e)).then(function (t) {\n        return Promise.resolve(st(t.productByHandle, r));\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchProduct = function (t) {\n    try {\n      var r = this,\n          e = K({\n        id: t\n      });\n      return Promise.resolve(r.post(e)).then(function (t) {\n        return Promise.resolve(st(t.node, r));\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.createCart = function (t) {\n    try {\n      var r = this,\n          e = z({\n        input: t || {}\n      });\n      return Promise.resolve(r.post(e)).then(function (t) {\n        var e = ft(t.checkoutCreate);\n        return ut(e, r);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchCart = function (t) {\n    try {\n      var r = this,\n          e = H({\n        id: t\n      });\n      return Promise.resolve(r.post(e)).then(function (t) {\n        return ut(t.node, r);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.addCheckoutLineItems = function (t, r) {\n    try {\n      var e = this,\n          n = Y({\n        checkoutId: t,\n        lineItems: r\n      });\n      return Promise.resolve(e.post(n)).then(function (t) {\n        var r = ft(t.checkoutLineItemsAdd);\n        return ut(r, e);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.removeCheckoutLineItems = function (t, r) {\n    try {\n      var e = this,\n          n = X({\n        checkoutId: t,\n        lineItemIds: r\n      });\n      return Promise.resolve(e.post(n)).then(function (t) {\n        var r = ft(t.checkoutLineItemsRemove);\n        return ut(r, e);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateCheckoutLineItems = function (t, r) {\n    try {\n      var e = this,\n          n = Z({\n        checkoutId: t,\n        lineItems: r\n      });\n      return Promise.resolve(e.post(n)).then(function (t) {\n        var r = ft(t.checkoutLineItemsUpdate);\n        return ut(r, e);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchProductVariant = function (t) {\n    try {\n      var r = this,\n          e = W({\n        id: t\n      });\n      return Promise.resolve(r.post(e)).then(function (t) {\n        return at(t.node, r);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchCheckoutLineItemsPage = function (t, r, e) {\n    void 0 === e && (e = 250);\n\n    try {\n      var n = B({\n        checkoutId: t,\n        pageSize: e,\n        cursor: r\n      });\n      return Promise.resolve(this.post(n)).then(function (t) {\n        return t.node.lineItems;\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchProductImagesPage = function (t, r, e) {\n    void 0 === e && (e = 250);\n\n    try {\n      var n = Q({\n        productId: t,\n        pageSize: e,\n        cursor: r\n      });\n      return Promise.resolve(this.post(n)).then(function (t) {\n        return t.node.images;\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchProductVariantsPage = function (t, r, e) {\n    void 0 === e && (e = 250);\n\n    try {\n      var n = G({\n        productId: t,\n        pageSize: e,\n        cursor: r\n      });\n      return Promise.resolve(this.post(n)).then(function (t) {\n        return t.node.variants;\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchPresentmentPricesPage = function (t, r, e) {\n    void 0 === e && (e = 250);\n\n    try {\n      var n = J({\n        productVariantId: t,\n        pageSize: e,\n        cursor: r\n      });\n      return Promise.resolve(this.post(n)).then(function (t) {\n        return t.node.presentmentPrices;\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchCurrencies = function () {\n    try {\n      var t = tt();\n      return Promise.resolve(this.post(t)).then(function (t) {\n        return t.shop.paymentSettings.enabledPresentmentCurrencies;\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.post = function (t, r) {\n    try {\n      return Promise.resolve((e = this.apiUrl, void 0 === (n = {\n        headers: a({}, this.defaultHeaders, r || {}),\n        method: \"POST\",\n        body: t\n      }) && (n = {}), new Promise(function (t, r) {\n        fetch(e, n).then(function (e) {\n          try {\n            return Promise.resolve(function (n, o) {\n              try {\n                var i = e.ok ? Promise.resolve(e.json()).then(function (e) {\n                  var n = e.data,\n                      o = e.errors;\n                  return null != n ? t(n) : r(null != o && o.length ? new Error(JSON.stringify(o)) : new Error(\"The request failed with an unknown error\"));\n                }) : r(new Error(e.statusText));\n              } catch (t) {\n                return o(t);\n              }\n\n              return i && i.then ? i.then(void 0, o) : i;\n            }(0, function (t) {\n              r(t);\n            }));\n          } catch (t) {\n            return Promise.reject(t);\n          }\n        }, function (t) {\n          return r(t);\n        });\n      })));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n\n    var e, n;\n  }, t;\n}(),\n    ht = function (t) {\n  var r, e;\n\n  function n(r, e, o) {\n    var i;\n    void 0 === o && (o = \"CheckoutError\");\n    var a = r + \" \" + (e ? e.message : \"\");\n    return (i = t.call(this, a) || this).name = void 0, i.message = void 0, i.stack = void 0, Object.setPrototypeOf(h(i), (this instanceof n ? this.constructor : void 0).prototype), i.name = o, i.message = a, e ? i.stack = e.stack : Error.captureStackTrace(h(i)), i;\n  }\n\n  return e = t, (r = n).prototype = Object.create(e.prototype), r.prototype.constructor = r, u(r, e), n;\n}(f(Error)),\n    mt = {\n  development: {\n    log: console.log,\n    error: console.error\n  },\n  production: {\n    log: function log(t, r) {},\n    error: function error(t, r) {}\n  },\n  test: {\n    log: console.log,\n    error: console.error\n  }\n}[process.env.NODE_ENV || \"development\"],\n    pt = function pt(t) {\n  try {\n    return Promise.resolve(mt.log(t)).then(function () {});\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    vt = /^(gid):\\/\\/(shopify)\\/(.*)\\/([0-9]+)/i,\n    yt = /^(?:[A-Za-z0-9+\\\\/]{4})*(?:[A-Za-z0-9+\\\\/]{2}(==)?|[A-Za-z0-9+\\\\/]{3}=?)?$/,\n    Pt = function Pt(t) {\n  return !isNaN(Number(t));\n};\n\nfunction gt(t) {\n  if (\"number\" == typeof t) return !1;\n\n  try {\n    return bt(t), !0;\n  } catch (t) {\n    return !1;\n  }\n}\n\nfunction It(t) {\n  if (!t) throw new Error(\"id cannot be \" + JSON.stringify(t));\n\n  if (\"string\" == typeof t && yt.test(t)) {\n    var r = bt(t);\n    return \"Product\" === r[0] ? t : wt(\"Product\", r[1]);\n  }\n\n  if (\"string\" == typeof t && !Pt(t)) throw new Error(\"id is a string and not a storefrontId. Is this a product handle?\");\n  return wt(\"Product\", Number(t));\n}\n\nfunction Ct(t) {\n  if (!t) throw new Error(\"id cannot be \" + JSON.stringify(t));\n\n  if (\"string\" == typeof t && yt.test(t)) {\n    var r = bt(t);\n    return \"ProductVariant\" === r[0] ? t : wt(\"ProductVariant\", r[1]);\n  }\n\n  if (\"string\" == typeof t && !Pt(t)) throw new Error(\"id is a string and not a storefrontId. Is this a product handle?\");\n  return wt(\"ProductVariant\", Number(t));\n}\n\nfunction wt(t, r) {\n  return btoa(\"gid://shopify/\" + t + \"/\" + r);\n}\n\nfunction bt(t) {\n  if (null == t) throw new Error(\"id cannot be \" + t);\n  if (!yt.test(t)) throw new Error(\"id is a string and not a storefrontId. Is this a product handle?\");\n  var r = atob(t).match(vt);\n  if (null == r || \"string\" != typeof r[3] || !Pt(r[4])) throw new Error(\"id is a string and not a storefrontId. Is this a product handle?\");\n  return [r[3], Number(r[4])];\n}\n\nvar _t = function _t(t, r) {\n  document.cookie = t + \"=\" + r + \";;Secure=true;SameSite=None\";\n};\n\nfunction kt(t, r) {\n  var e = new URL(t.checkoutUrl).pathname;\n  return {\n    id: String(t.id),\n    items: t.lineItems.map(function (r) {\n      var e, n, o, i;\n      return a({}, r, {\n        variant_id: null == (e = r.variant) ? void 0 : e.id,\n        selectedCurrencyPrice: null == (n = r.variant) || null == (o = n.presentmentPrices) || null == (i = o.find(function (r) {\n          return r.price.currencyCode === t.subtotalPriceV2.currencyCode;\n        })) ? void 0 : i.price.amount\n      });\n    }),\n    currencyCode: t.subtotalPriceV2.currencyCode,\n    subtotalPrice: t.subtotalPriceV2.amount,\n    totalPrice: t.totalPriceV2.amount,\n    checkoutUrl: r.storeDomain ? \"https://\" + r.storeDomain + e : t.checkoutUrl\n  };\n}\n\nfunction St(t, r) {\n  if (!function (t) {\n    return t && \"object\" == typeof t;\n  }(t)) throw Error((r || \"props\") + \" is not an object.\");\n}\n\nfunction Et(t) {\n  return \"string\" == typeof t;\n}\n\nfunction jt(t) {\n  t.forEach(function (t) {\n    if (St(t, \"item\"), !t.id) throw Error('Please provide \"id\" property to every item.');\n    if (!Et(t.id)) throw Error('All items should have property \"id\" of type string.');\n    if (!t.quantity) throw Error('Please provide \"quantity\" property for every item.');\n  });\n}\n\nfunction At(t, r) {\n  try {\n    var e = t();\n  } catch (t) {\n    return r(t);\n  }\n\n  return e && e.then ? e.then(void 0, r) : e;\n}\n\nvar Tt = function () {\n  function t(t, r) {\n    this.client = void 0, this.storeDomain = void 0, this.storeName = void 0, this.cartKey = void 0, this.sharedCheckoutDomains = void 0, this.isSharedCheckout = void 0, this.client = new lt(t), this.storeDomain = t.storeDomain, this.storeName = r.storeName, this.cartKey = \"cartId-\" + r.storeId, this.sharedCheckoutDomains = r.sharedCheckoutDomains || [], this.isSharedCheckout = this.sharedCheckoutDomains.length > 0;\n  }\n\n  var r = t.prototype;\n  return r.getCartId = function () {\n    try {\n      var t,\n          r = this,\n          e = function e(_e) {\n        return t ? _e : Promise.resolve(r.createCart()).then(function (t) {\n          return t.id;\n        });\n      },\n          n = At(function () {\n        function e(e) {\n          return t ? e : function () {\n            if (r.isSharedCheckout) return Promise.resolve((e = r.sharedCheckoutDomains, e.forEach(function (t) {\n              var r = document.querySelector('iframe[data-store-domain=\"' + t + '\"]');\n              r && document.body.removeChild(r);\n              var e = document.createElement(\"iframe\");\n              e.setAttribute(\"src\", t + \"/shogun-shared-checkout\"), e.setAttribute(\"data-store-domain\", t), e.setAttribute(\"title\", \"Shared checkout on \" + t), e.setAttribute(\"style\", \"display:none\"), document.body.appendChild(e);\n            }), Promise.any(e.map(function (t) {\n              return new Promise(function (r, e) {\n                var n = !1;\n                setTimeout(function () {\n                  return !n && e();\n                }, 1500), window.addEventListener(\"message\", function o(i) {\n                  if (\"shared checkout loaded\" === i.data.message && t === i.data.domain) return n = !0, window.removeEventListener(\"message\", o), i.data.cartId ? r({\n                    sharedCartId: i.data.cartId\n                  }) : e();\n                });\n              });\n            })))).then(function (e) {\n              var n = e.sharedCartId;\n              if (n) return t = 1, function (t, r) {\n                return _t(t, r), localStorage.setItem(t, r), r;\n              }(r.cartKey, n);\n            });\n            var e;\n          }();\n        }\n\n        var n = localStorage.getItem(r.cartKey),\n            o = function () {\n          if (n) return Promise.resolve(r.client.fetchCart(n)).then(function (r) {\n            if (r) return t = 1, n;\n          });\n        }();\n\n        return o && o.then ? o.then(e) : e(o);\n      }, function () {});\n\n      return Promise.resolve(n && n.then ? n.then(e) : e(n));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchProduct = function (t) {\n    try {\n      var r = this;\n\n      try {\n        if (\"string\" == typeof t && !gt(t)) return Promise.resolve(r.client.fetchProductByHandle(t));\n        var e = r.getItemIdInPlatformSpecificFormat(t);\n        return Promise.resolve(r.client.fetchProduct(e));\n      } catch (t) {\n        var n = new ht(\"Fetching product by id failed.\", t);\n        throw pt(n), n;\n      }\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchProductVariant = function (t) {\n    try {\n      try {\n        var r = this.getItemIdInPlatformSpecificFormat(t, \"ProductVariant\");\n        return Promise.resolve(this.client.fetchProductVariant(r));\n      } catch (t) {\n        var e = new ht(\"Fetching product variant by id failed.\", t);\n        throw pt(e), e;\n      }\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchCurrencies = function () {\n    try {\n      try {\n        return Promise.resolve(this.client.fetchCurrencies());\n      } catch (r) {\n        var t = new ht(\"Fetching currencies failed.\", r);\n        throw pt(t), t;\n      }\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.selectCurrency = function (t) {\n    try {\n      try {\n        return function (t) {\n          if (St(t, \"props\"), !t.currency) throw Error('Please provide \"currency\" property');\n          if (\"string\" != typeof t.currency) throw Error(\"Currency is not type of string\");\n          t.lineItems && (function (t, r) {\n            if (!function (t) {\n              return Array.isArray(t);\n            }(t)) throw Error(\"items is not an object.\");\n          }(t.lineItems), t.lineItems.forEach(function (t) {\n            if (St(t, \"lineItem\"), !t.variantId) throw Error('Please provide \"variantId\" property to every lineItem.');\n            if (!Et(t.variantId)) throw Error('All lineItems should have property \"variantId\" of type string.');\n            if (!t.quantity) throw Error('Please provide \"quantity\" property for every lineItem.');\n          }));\n        }(t), Promise.resolve(this.createCart({\n          lineItems: t.lineItems,\n          presentmentCurrencyCode: t.currency\n        }));\n      } catch (t) {\n        var r = new ht(\"Selecting currency failed.\", t);\n        throw pt(r), r;\n      }\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.createCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(At(function () {\n        return Promise.resolve(r.client.createCart(t)).then(function (t) {\n          if (!t) throw Error(\"No cart retrieved from API.\");\n\n          try {\n            localStorage.setItem(r.cartKey, String(t.id)), r.isSharedCheckout && (_t(r.cartKey, String(t.id)), e = r.sharedCheckoutDomains, n = String(t.id), e.forEach(function (t) {\n              var r = document.querySelector('iframe[data-store-domain=\"' + t + '\"]');\n              r && r.contentWindow && r.contentWindow.postMessage({\n                message: \"save new cartId\",\n                cartId: n\n              }, t);\n            }));\n          } catch (t) {}\n\n          var e, n;\n          return kt(t, {\n            storeDomain: r.storeDomain\n          });\n        });\n      }, function (t) {\n        var r = new ht(\"Creating cart failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.addItemsToCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(r.getCartId()).then(function (e) {\n        return At(function () {\n          var n = t.map(function (t) {\n            var e = t.id;\n            return a({}, l(t, [\"id\"]), {\n              id: r.getItemIdInPlatformSpecificFormat(e, \"ProductVariant\")\n            });\n          }),\n              o = function (t) {\n            return t.map(function (t) {\n              var r = t.id,\n                  e = l(t, [\"id\"]);\n              return a({\n                variantId: gt(r) ? r : Ct(r)\n              }, e);\n            });\n          }(n);\n\n          return jt(n), Promise.resolve(r.client.addCheckoutLineItems(e, o)).then(function (t) {\n            return t.completedAt ? r.createCart() : kt(t, {\n              storeDomain: r.storeDomain\n            });\n          });\n        }, function (t) {\n          var r = new ht(\"Adding items to cart failed.\", t);\n          throw pt(r), r;\n        });\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateItemsInCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(r.getCartId()).then(function (e) {\n        return At(function () {\n          var n = t.map(function (t) {\n            var e = t.id;\n            return a({}, l(t, [\"id\"]), {\n              id: r.getItemIdInPlatformSpecificFormat(e)\n            });\n          });\n          return jt(n), Promise.resolve(r.client.updateCheckoutLineItems(e, n)).then(function (t) {\n            return t.completedAt ? r.createCart() : kt(t, {\n              storeDomain: r.storeDomain\n            });\n          });\n        }, function (t) {\n          var r = new ht(\"Updating items in cart failed.\", t);\n          throw pt(r), r;\n        });\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.removeItemsFromCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(r.getCartId()).then(function (e) {\n        return At(function () {\n          return t.forEach(function (t) {\n            if (!Et(t)) throw Error(\"All ids should be type of string.\");\n          }), Promise.resolve(r.client.removeCheckoutLineItems(e, t)).then(function (t) {\n            return t.completedAt ? r.createCart() : kt(t, {\n              storeDomain: r.storeDomain\n            });\n          });\n        }, function (t) {\n          var r = new ht(\"Removing items from cart failed.\", t);\n          throw pt(r), r;\n        });\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getCart = function () {\n    try {\n      var t = this;\n      return Promise.resolve(t.getCartId()).then(function (r) {\n        return At(function () {\n          return Promise.resolve(t.client.fetchCart(r)).then(function (r) {\n            return !r || null != r && r.completedAt ? t.createCart() : kt(r, {\n              storeDomain: t.storeDomain\n            });\n          });\n        }, function (t) {\n          var r = new ht(\"Getting cart failed.\", t);\n          throw pt(r), r;\n        });\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductTrackingData = function (t) {\n    if (!function (t) {\n      return \"string\" == typeof t.id;\n    }(t)) throw new ht('Not valid \"item\" provided to getProductTrackingData method.');\n    return t.variant ? {\n      id: t.variant.sku || t.id.toString(),\n      name: t.title,\n      brand: this.storeName,\n      variant: t.variant.title || \"\",\n      price: parseFloat(t.variant.price || \"0\"),\n      compareAtPrice: parseFloat(t.variant.compareAtPrice || \"0\"),\n      quantity: t.quantity\n    } : {\n      id: String(t.id),\n      name: t.title,\n      brand: this.storeName,\n      quantity: t.quantity,\n      price: 0\n    };\n  }, r.getItemIdInPlatformSpecificFormat = function (t, r) {\n    return void 0 === r && (r = \"Product\"), gt(t) ? t : {\n      Product: It(t),\n      ProductVariant: Ct(t)\n    }[r];\n  }, t;\n}();\n\nfunction Ft(t) {\n  return Array.isArray(t) ? t : [t];\n}\n\nvar Dt = function () {\n  function t(t) {\n    var r = t.platform;\n    this.platform = void 0, this.platform = r;\n  }\n\n  var r = t.prototype;\n  return r.fetchProduct = function (t) {\n    if (!this.platform.fetchProduct) throw new Error(\"Operation not supported by the selected platform.\");\n    return this.platform.fetchProduct(t);\n  }, r.fetchProductVariant = function (t) {\n    if (!this.platform.fetchProductVariant) throw new Error(\"Operation not supported by the selected platform.\");\n    return this.platform.fetchProductVariant(t);\n  }, r.fetchCurrencies = function () {\n    if (!this.platform.fetchCurrencies) throw new Error(\"Operation not supported by the selected platform.\");\n    return this.platform.fetchCurrencies();\n  }, r.selectCurrency = function (t) {\n    if (!this.platform.selectCurrency) throw new Error(\"Operation not supported by the selected platform.\");\n    return this.platform.selectCurrency(t);\n  }, r.addItemsToCart = function (t) {\n    var r = Ft(t);\n    return this.platform.addItemsToCart(r);\n  }, r.updateItemsInCart = function (t) {\n    try {\n      var r = Ft(t);\n      return Promise.resolve(this.platform.updateItemsInCart(r));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.removeItemsFromCart = function (t) {\n    try {\n      var r = Ft(t);\n      return Promise.resolve(this.platform.removeItemsFromCart(r));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateCart = function (t) {\n    try {\n      if (!this.platform.updateCart) throw new Error(\"Operation not supported by the selected platform.\");\n      return Promise.resolve(this.platform.updateCart(t));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getCart = function () {\n    try {\n      return Promise.resolve(this.platform.getCart());\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.addShippingAddress = function (t) {\n    try {\n      if (!this.platform.addShippingAddress) throw new Error(\"Operation not supported by the selected platform.\");\n      return Promise.resolve(this.platform.addShippingAddress(t));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateShippingAddress = function (t) {\n    try {\n      if (!this.platform.updateShippingAddress) throw new Error(\"Operation not supported by the selected platform.\");\n      return Promise.resolve(this.platform.updateShippingAddress(t));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductTrackingData = function (t) {\n    return this.platform.getProductTrackingData(t);\n  }, r.getItemIdInPlatformSpecificFormat = function (t, r) {\n    return this.platform.getItemIdInPlatformSpecificFormat(t, r);\n  }, t;\n}(),\n    Nt = function Nt(t) {\n  return r = t, [\"storeDomain\", \"storeToken\", \"storePlatformDomain\"].every(function (t) {\n    return function (t, r) {\n      return r in t;\n    }(r, t);\n  });\n  var r;\n},\n    Ot = function Ot(t) {\n  try {\n    var r,\n        e = function e(_e2) {\n      if (t.ok) return r;\n      throw r;\n    },\n        n = function (e, n) {\n      try {\n        var o = Promise.resolve(t.json()).then(function (t) {\n          r = t;\n        });\n      } catch (t) {\n        return n(t);\n      }\n\n      return o && o.then ? o.then(void 0, n) : o;\n    }(0, function (r) {\n      throw new ht(\"Cart action failed: \" + t.statusText + \" (\" + t.status + \")\", r);\n    });\n\n    return Promise.resolve(n && n.then ? n.then(e) : e());\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    qt = function qt(t) {\n  try {\n    return Promise.resolve(fetch(t)).then(Ot);\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    xt = function xt(t, r) {\n  try {\n    return Promise.resolve(fetch(t, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(r)\n    })).then(Ot);\n  } catch (t) {\n    return Promise.reject(t);\n  }\n};\n\nfunction Ut(t) {\n  return \"number\" == typeof t;\n}\n\nfunction Vt(t) {\n  t.forEach(function (t) {\n    if (!t.id) throw Error('Please provide \"id\" property to every item.');\n    if (!Ut(t.id)) throw Error('All items should have property \"id\" of type number.');\n    !function (t) {\n      if (\"number\" != typeof t.quantity) throw Error('\"quantity\" is not type of number.');\n    }(t);\n  });\n}\n\nfunction $t(t) {\n  return {\n    id: String(t.token),\n    currencyCode: t.currency,\n    subtotalPrice: t.items_subtotal_price,\n    totalPrice: t.original_total_price,\n    items: t.items.map(function (t, r) {\n      return a({}, t, {\n        variant: {\n          id: t.variant_id\n        },\n        line: r + 1\n      });\n    }),\n    checkoutUrl: \"/checkout\",\n    attributes: t.attributes,\n    note: t.note\n  };\n}\n\nfunction Rt(t, r) {\n  try {\n    var e = t();\n  } catch (t) {\n    return r(t);\n  }\n\n  return e && e.then ? e.then(void 0, r) : e;\n}\n\nvar Mt = function () {\n  function t(t) {\n    this.storeName = void 0, this.storeName = t.storeName;\n  }\n\n  var r = t.prototype;\n  return r.fetchProduct = function (t) {\n    try {\n      return Promise.resolve(Rt(function () {\n        return function (t) {\n          if (\"string\" != typeof t) throw Error('\"handle\" is not type of string.');\n        }(t), Promise.resolve(qt(function (t) {\n          return \"/products/\" + t + \".js\";\n        }(t)));\n      }, function (t) {\n        throw pt(t), t;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.fetchProductVariant = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Rt(function () {\n        var e = r.getItemIdInPlatformSpecificFormat(t);\n        return Promise.resolve(qt(function (t) {\n          return \"/variants/\" + t + \".js\";\n        }(e)));\n      }, function (t) {\n        var r = new ht(\"Fetching product variant failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.addItemsToCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Rt(function () {\n        var e = t.map(function (t) {\n          var e = t.id;\n          return a({}, l(t, [\"id\"]), {\n            id: r.getItemIdInPlatformSpecificFormat(e)\n          });\n        });\n        return Vt(e), Promise.resolve(xt(\"/cart/add.js\", {\n          items: e\n        })).then(function () {\n          return Promise.resolve(qt(\"/cart.js\")).then($t);\n        });\n      }, function (t) {\n        throw pt(t), t;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateItemsInCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Rt(function () {\n        function e() {\n          return Promise.resolve(qt(\"/cart.js\")).then($t);\n        }\n\n        var n = t[0];\n        !function (t) {\n          if (!t) throw Error(\"Please provide item.\");\n          if (!t.id && \"number\" != typeof t.line) throw Error(\"Please provide valid item.\");\n        }(n);\n\n        var o,\n            i = (o = n) && \"object\" == typeof o && \"line\" in o,\n            c = function () {\n          if (i) return Promise.resolve(xt(\"/cart/change.js\", n)).then(function () {});\n          var e = t.map(function (t) {\n            var e = t.id;\n            return a({}, l(t, [\"id\"]), {\n              id: r.getItemIdInPlatformSpecificFormat(e)\n            });\n          });\n          Vt(e);\n          var o = e.reduce(function (t, r) {\n            return t[r.id] = r.quantity, t;\n          }, {});\n          return Promise.resolve(xt(\"/cart/update.js\", {\n            updates: o\n          })).then(function () {});\n        }();\n\n        return c && c.then ? c.then(e) : e();\n      }, function (t) {\n        throw pt(t), t;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.removeItemsFromCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Rt(function () {\n        var e = t.map(function (t) {\n          return r.getItemIdInPlatformSpecificFormat(t);\n        });\n        e.forEach(function (t) {\n          if (!Ut(t)) throw Error('All items should have property \"id\" of type number.');\n        });\n        var n = e.reduce(function (t, r) {\n          return t[r] = 0, t;\n        }, {});\n        return Promise.resolve(xt(\"/cart/update.js\", {\n          updates: n\n        })).then(function () {\n          return Promise.resolve(qt(\"/cart.js\")).then($t);\n        });\n      }, function (t) {\n        throw pt(t), t;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateCart = function (t) {\n    var r = t.items,\n        e = t.note,\n        n = t.attributes;\n\n    try {\n      var o = this;\n      return Promise.resolve(Rt(function () {\n        var t;\n\n        if (null != r && r.length) {\n          var i = r.map(function (t) {\n            var r = t.id;\n            return a({}, l(t, [\"id\"]), {\n              id: o.getItemIdInPlatformSpecificFormat(r)\n            });\n          });\n          Vt(i), t = i.reduce(function (t, r) {\n            var e;\n            return a({}, t, ((e = {})[r.id] = r.quantity, e));\n          }, {});\n        }\n\n        return Promise.resolve(xt(\"/cart/update.js\", {\n          updates: t,\n          note: e,\n          attributes: n\n        })).then(function () {\n          return Promise.resolve(qt(\"/cart.js\")).then($t);\n        });\n      }, function (t) {\n        throw pt(t), t;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getCart = function () {\n    try {\n      return Promise.resolve(Rt(function () {\n        return Promise.resolve(qt(\"/cart.js\")).then($t);\n      }, function (t) {\n        throw pt(t), t;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductTrackingData = function (t) {\n    if (!function (t) {\n      return \"number\" == typeof t.id;\n    }(t)) throw new ht('Not valid \"item\" provided to getProductTrackingData method.');\n    return {\n      id: t.id,\n      variantId: t.variant_id,\n      name: t.title,\n      brand: this.storeName,\n      quantity: t.quantity,\n      price: t.price || 0\n    };\n  }, r.getItemIdInPlatformSpecificFormat = function (t) {\n    return function (t) {\n      if (!t) throw new Error(\"id cannot be \" + JSON.stringify(t));\n      return \"number\" == typeof t ? t : bt(t)[1];\n    }(t);\n  }, t;\n}(),\n    Lt = function Lt(t) {\n  try {\n    if (!t.ok) throw Error(t.statusText + \" (\" + t.status + \")\");\n    return Promise.resolve(function (r, e) {\n      try {\n        var n = Promise.resolve(t.json());\n      } catch (t) {\n        return e();\n      }\n\n      return n && n.then ? n.then(void 0, e) : n;\n    }(0, function () {\n      return t;\n    }));\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    Kt = function Kt(t) {\n  var r;\n  return (null == (r = document.cookie.match(\"(^|;)\\\\s*\" + t + \"\\\\s*=\\\\s*([^;]+)\")) ? void 0 : r.pop()) || \"\";\n},\n    zt = function zt(t) {\n  return function (r, e) {\n    try {\n      return Promise.resolve(fetch(r, {\n        method: t,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"x-xsrf-token\": Kt(\"XSRF-TOKEN\")\n        },\n        body: JSON.stringify(e)\n      })).then(Lt);\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  };\n},\n    Bt = {\n  get: zt(\"GET\"),\n  post: zt(\"POST\"),\n  put: zt(\"PUT\"),\n  delete: zt(\"DELETE\")\n},\n    Ht = \"include=lineItems.digitalItems.options,lineItems.physicalItems.options\",\n    Jt = function Jt(t) {\n  return t ? \"/api/storefront/carts/\" + t + \"?\" + Ht : \"/api/storefront/carts?\" + Ht;\n},\n    Qt = function Qt(t, r) {\n  return \"/api/storefront/carts/\" + t + \"/items/\" + r + \"?\" + Ht;\n},\n    Wt = function Wt(t) {\n  return \"string\" == typeof t;\n},\n    Gt = function Gt(t) {\n  if (!t.id) throw Error('Please provide the \"id\" property for every item.');\n  if (\"number\" != typeof t.id) throw Error('All items should have a \"id\" property of type number.');\n  if (!t.quantity) throw Error('Please provide the \"quantity\" property for every item.');\n  if (t.quantity < 1) throw Error('Please provide the \"quantity\" property more than 0.');\n  return t;\n},\n    Xt = function Xt(t) {\n  var r = t.id,\n      e = t.sku,\n      n = t.productId,\n      o = t.options,\n      i = l(t, [\"id\", \"sku\", \"productId\", \"options\"]);\n  return a({\n    id: n,\n    SKU: e,\n    lineItemId: r,\n    optionSelections: o ? o.map(function (t) {\n      return {\n        optionId: t.nameId,\n        optionValue: t.valueId\n      };\n    }) : o\n  }, i);\n},\n    Zt = function Zt(t) {\n  return {\n    id: t.id,\n    currencyCode: t.cart.currency.code,\n    subtotalPrice: t.subtotal,\n    totalPrice: t.grandTotal,\n    discountAmount: t.cart.discountAmount,\n    taxTotal: t.taxTotal,\n    coupons: t.coupons,\n    giftCertificates: t.giftCertificates,\n    items: [].concat(t.cart.lineItems.physicalItems.map(Xt), t.cart.lineItems.customItems.map(Xt), t.cart.lineItems.digitalItems.map(Xt)),\n    checkoutUrl: \"/checkout\"\n  };\n},\n    Yt = function Yt(t) {\n  return {\n    id: t.lineItemId,\n    productId: t.id,\n    variantId: t.variantId,\n    quantity: t.quantity,\n    optionSelections: t.optionSelections\n  };\n};\n\nfunction tr(t, r) {\n  try {\n    var e = t();\n  } catch (t) {\n    return r(t);\n  }\n\n  return e && e.then ? e.then(void 0, r) : e;\n}\n\nvar rr = function () {\n  function t(t) {\n    this.storeName = void 0, this.cartId = void 0, this.addToCartInitialRequest = void 0, this.storeName = t.storeName || \"\";\n  }\n\n  var r = t.prototype;\n  return r.getRestApiToken = function () {\n    try {\n      var t = \"XSRF-TOKEN\",\n          r = Kt(t);\n      return r ? Promise.resolve(r) : Promise.resolve(Bt.get(\"/api/storefront/carts\")).then(function () {\n        return Kt(t);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getCheckout = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(tr(function () {\n        return Promise.resolve(Bt.get(function (t) {\n          return \"/api/storefront/checkouts/\" + t + \"?include=cart.lineItems.digitalItems.options,cart.lineItems.physicalItems.options\";\n        }(t))).then(Zt);\n      }, function () {\n        return r.cartId = void 0, r.getCart();\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getCart = function () {\n    try {\n      var t = this;\n      return Promise.resolve(t.cartId ? t.getCheckout(t.cartId) : tr(function () {\n        return Promise.resolve(Bt.get(Jt())).then(function (r) {\n          var e = (r || [])[0];\n          return t.cartId = null == e ? void 0 : e.id, null != e && e.id ? t.getCheckout(t.cartId) : {\n            id: \"\",\n            currencyCode: \"\",\n            checkoutUrl: \"/checkout\",\n            subtotalPrice: 0,\n            totalPrice: 0,\n            discountAmount: 0,\n            items: []\n          };\n        });\n      }, function (t) {\n        var r = new ht(\"Getting cart failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.addItemsToCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(tr(function () {\n        function e() {\n          var e;\n          return Promise.resolve(r.getRestApiToken()).then(function () {\n            function n() {\n              return r.cartId ? r.getCheckout(r.cartId) : {\n                id: (t = e).id,\n                currencyCode: t.currency.code,\n                subtotalPrice: t.baseAmount,\n                totalPrice: t.cartAmount,\n                discountAmount: t.discountAmount,\n                items: [].concat(t.lineItems.physicalItems.map(Xt), t.lineItems.customItems.map(Xt), t.lineItems.digitalItems.map(Xt)),\n                checkoutUrl: \"/checkout\"\n              };\n              var t;\n            }\n\n            var o,\n                i = r.cartId ? Promise.resolve(Bt.post((o = r.cartId, \"/api/storefront/carts/\" + o + \"/items?\" + Ht), {\n              lineItems: t.map(Yt)\n            })).then(function (t) {\n              e = t;\n            }) : (r.addToCartInitialRequest = Bt.post(Jt(), {\n              lineItems: t.map(Yt)\n            }).then(function (t) {\n              return r.cartId = null == t ? void 0 : t.id, t;\n            }), Promise.resolve(r.addToCartInitialRequest).then(function (t) {\n              e = t, r.addToCartInitialRequest = null;\n            }));\n            return i && i.then ? i.then(n) : n();\n          });\n        }\n\n        !function (t) {\n          t.forEach(Gt);\n        }(t);\n\n        var n = function () {\n          if (r.addToCartInitialRequest) return Promise.resolve(r.addToCartInitialRequest).then(function () {});\n        }();\n\n        return n && n.then ? n.then(e) : e();\n      }, function (t) {\n        var r = new ht(\"Adding items to cart failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateItemsInCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(tr(function () {\n        if (function (t) {\n          if (t.length > 1) throw Error(\"The REST API does not support batch update operations on the Cart resource.\");\n          t.forEach(function (t) {\n            return function (t) {\n              if (!t.lineItemId) throw Error('Please provide the \"lineItemId\" property for every item.');\n              if (!Wt(t.lineItemId)) throw Error('All items should have a \"lineItemId\" property of type string.');\n              return t;\n            }(Gt(t));\n          });\n        }(t), !r.cartId) throw \"Missing Cart Id\";\n        var e = Yt(t[0]);\n        return Promise.resolve(r.getRestApiToken()).then(function () {\n          return Promise.resolve(Bt.put(Qt(r.cartId, e.id), {\n            lineItem: e\n          })).then(function () {\n            return r.getCart();\n          });\n        });\n      }, function (t) {\n        var r = new ht(\"Update cart item failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.removeItemsFromCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(tr(function () {\n        if (function (t) {\n          if (t.length > 1) throw Error(\"The REST API does not support batch delete operations on the Cart resource.\");\n          if (!t.every(Wt)) throw Error('All items should have a \"lineItemId\" property of type string');\n        }(t), !r.cartId) throw \"Missing Cart Id\";\n        var e = t[0];\n        return Promise.resolve(r.getRestApiToken()).then(function () {\n          return Promise.resolve(Bt.delete(Qt(r.cartId, e))).then(function () {\n            return r.getCart();\n          });\n        });\n      }, function (t) {\n        var r = new ht(\"Removing items to cart failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductTrackingData = function (t) {\n    return Gt(t), {\n      id: t.id,\n      quantity: t.quantity,\n      brand: this.storeName,\n      variantId: t.variantId,\n      name: t.name,\n      price: t.listPrice\n    };\n  }, r.getItemIdInPlatformSpecificFormat = function (t) {\n    if (\"number\" == typeof t) return t;\n    var r = Number(t);\n    if (!isNaN(r)) throw Error(\"itemId is not type of number and cannot be converted to a number\");\n    return r;\n  }, t;\n}(),\n    er = function er(t) {\n  try {\n    return t.ok ? Promise.resolve(t.text()).then(function (t) {\n      try {\n        return JSON.parse(t).data;\n      } catch (r) {\n        return t;\n      }\n    }) : Promise.resolve({\n      status: t.status\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    nr = function nr(t) {\n  return function (r, e) {\n    try {\n      return Promise.resolve(fetch(r, {\n        method: t,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(e)\n      })).then(er);\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  };\n},\n    or = {\n  get: nr(\"GET\"),\n  post: nr(\"POST\"),\n  put: nr(\"PUT\"),\n  delete: nr(\"DELETE\")\n},\n    ir = \"?include=cart.line_items.physical_items.options,cart.line_items.digital_items.options,consignments.available_shipping_options\",\n    ar = function ar(t) {\n  return t ? \"/v3/carts/\" + t + \"?include=redirect_urls\" : \"/v3/carts?include=redirect_urls\";\n},\n    cr = function cr(t, r) {\n  return \"/v3/carts/\" + t + \"/items/\" + r + \"?include=redirect_urls\";\n},\n    ur = function ur(t, r) {\n  return r ? \"/v3/checkouts/\" + t + \"/consignments/\" + r + ir : \"/v3/checkouts/\" + t + \"/consignments\" + ir;\n},\n    sr = function sr(t) {\n  return \"string\" == typeof t;\n},\n    dr = function dr(t) {\n  return \"object\" == typeof t && null !== t;\n},\n    fr = function fr(t) {\n  if (!t.id) throw Error('Please provide the \"id\" property for every item.');\n  if (\"number\" != typeof t.id) throw Error('All items should have a \"id\" property of type number.');\n  if (!t.quantity) throw Error('Please provide the \"quantity\" property for every item.');\n  return t;\n},\n    lr = function lr(t, r) {\n  return Object.keys(t).filter(function (t) {\n    return !r.includes(t);\n  }).join(\", \");\n},\n    hr = function hr(t) {\n  var r = t.props,\n      e = t.actionName,\n      n = t.availableProps;\n  if (!dr(r)) throw Error(e + \" properties are not type of object.\");\n  if (!Object.keys(r).length) throw Error(e + \" properties are empty object.\");\n  var o = lr(r, n);\n  if (o) throw Error(e + ' properties \"' + o + '\" are not allowed.');\n},\n    mr = [\"countryCode\", \"city\", \"state\", \"stateCode\", \"email\", \"firstName\", \"lastName\", \"address1\", \"postalCode\", \"phone\"],\n    pr = function pr(t) {\n  if (!dr(t)) throw Error(\"ShippingAddress is not type of object.\");\n  if (!Object.keys(t).length) throw Error(\"ShippingAddress is empty object.\");\n  var r = lr(t, mr);\n  if (r) throw Error('ShippingAddress properties \"' + r + '\" are not allowed.');\n},\n    vr = function vr(t) {\n  var r;\n  return {\n    id: t.lineItemId,\n    product_id: t.id,\n    variant_id: t.variantId,\n    quantity: t.quantity,\n    option_selections: null == (r = t.optionSelections) ? void 0 : r.map(function (t) {\n      return {\n        option_id: t.optionId,\n        option_value: t.optionValue\n      };\n    })\n  };\n},\n    yr = function yr(t) {\n  var r = t.id,\n      e = t.sku,\n      n = t.product_id,\n      o = t.list_price,\n      i = t.sale_price,\n      c = t.variant_id,\n      u = t.image_url,\n      s = t.coupon_amount,\n      d = t.discount_amount,\n      f = t.discounts,\n      h = t.options,\n      m = t.extended_list_price,\n      p = t.extended_sale_price,\n      v = t.is_mutable,\n      y = t.is_require_shipping,\n      P = t.parent_id,\n      g = t.taxable,\n      I = l(t, [\"id\", \"sku\", \"product_id\", \"list_price\", \"sale_price\", \"variant_id\", \"image_url\", \"coupon_amount\", \"discount_amount\", \"discounts\", \"options\", \"extended_list_price\", \"extended_sale_price\", \"is_mutable\", \"is_require_shipping\", \"parent_id\", \"taxable\"]);\n  return a({\n    id: n,\n    SKU: e,\n    lineItemId: r,\n    listPrice: o,\n    salePrice: i,\n    variantId: c,\n    imageUrl: u,\n    couponAmount: s,\n    discountAmount: d,\n    discounts: null == f ? void 0 : f.map(function (t) {\n      return {\n        id: t.id,\n        discountedAmount: t.discounted_amount\n      };\n    }),\n    extendedListPrice: m,\n    extendedSalePrice: p,\n    isMutable: v,\n    isShippingRequired: y,\n    isTaxable: g,\n    parentId: P,\n    optionSelections: h ? h.map(function (t) {\n      return {\n        optionId: t.name_id,\n        optionValue: t.value_id\n      };\n    }) : h\n  }, I);\n},\n    Pr = function Pr(t) {\n  return {\n    id: t.id,\n    type: t.type,\n    description: t.description,\n    imageUrl: t.image_url,\n    cost: t.cost,\n    transitTime: t.transit_time,\n    additionalDescription: t.additional_description\n  };\n},\n    gr = function gr(t) {\n  return {\n    id: t.id,\n    first_name: t.firstName,\n    last_name: t.lastName,\n    email: t.email,\n    address1: t.address1,\n    city: t.city,\n    state_or_province: t.state,\n    state_or_province_code: t.stateCode,\n    country_code: t.countryCode,\n    postal_code: t.postalCode,\n    phone: t.phone\n  };\n},\n    Ir = function Ir(t) {\n  return {\n    item_id: t.id,\n    quantity: t.quantity\n  };\n};\n\nfunction Cr(t, r) {\n  try {\n    var e = t();\n  } catch (t) {\n    return r(t);\n  }\n\n  return e && e.then ? e.then(void 0, r) : e;\n}\n\nvar wr,\n    br,\n    _r = function () {\n  function t(t) {\n    this.storeName = void 0, this.cartKey = void 0, this.cartId = void 0, this.cartKey = \"cartId-\" + (t.storeId || \"\"), this.storeName = t.storeName || \"\", this.cartId = \"undefined\" != typeof window ? localStorage.getItem(this.cartKey) : null;\n  }\n\n  var r = t.prototype;\n  return r.setCartId = function (t) {\n    t ? localStorage.setItem(this.cartKey, t) : localStorage.removeItem(this.cartKey), this.cartId = t;\n  }, r.updateCustomerIdInCart = function () {\n    try {\n      var t = this;\n      return Promise.resolve(Cr(function () {\n        if (!t.cartId) throw \"Missing Cart Id\";\n        var r = ar(t.cartId);\n        return Promise.resolve(or.put(r, {})).then(function () {});\n      }, function (t) {\n        var r = new ht(\"Add customer id to cart failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getCheckout = function () {\n    try {\n      var t = this;\n      return Promise.resolve(or.get(\"/v3/checkouts/\" + t.cartId + ir)).then(function (r) {\n        return 404 === (null == r ? void 0 : r.status) ? (t.setCartId(null), t.getCart()) : {\n          id: (e = a({}, r, {\n            cart: a({}, r.cart, {\n              redirect_urls: {\n                checkout_url: \"/checkout?cartId=\" + t.cartId\n              }\n            })\n          })).id,\n          currencyCode: e.cart.currency.code,\n          subtotalPrice: e.cart.base_amount,\n          totalPrice: e.grand_total,\n          discountAmount: e.cart.discount_amount,\n          consignment: null != (n = e.consignments) && n.length ? (o = e.consignments[0], {\n            id: o.id,\n            shippingAddress: {\n              id: o.shipping_address.id,\n              firstName: o.shipping_address.first_name,\n              lastName: o.shipping_address.last_name,\n              email: o.shipping_address.email,\n              company: o.shipping_address.company,\n              address1: o.shipping_address.address1,\n              address2: o.shipping_address.address2,\n              city: o.shipping_address.city,\n              state: o.shipping_address.state_or_province,\n              stateCode: o.shipping_address.state_or_province_code,\n              countryCode: o.shipping_address.country_code,\n              postalCode: o.shipping_address.postal_code,\n              phone: o.shipping_address.phone,\n              customFields: o.shipping_address.custom_fields.map(function (t) {\n                return {\n                  id: t.field_id,\n                  value: t.field_value\n                };\n              })\n            },\n            availableShippingOptions: o.available_shipping_options.map(Pr),\n            selectedShippingOption: o.selected_shipping_option ? Pr(o.selected_shipping_option) : null,\n            couponDiscounts: o.coupon_discounts,\n            discounts: o.discounts,\n            shippingCostIncTax: o.shipping_cost_inc_tax,\n            shippingCostExTax: o.shipping_cost_ex_tax,\n            handlingCostIncTax: o.handling_cost_inc_tax,\n            handlingCostExTax: o.handling_cost_ex_tax,\n            lineItemIds: o.line_item_ids\n          }) : null,\n          items: [].concat(e.cart.line_items.physical_items.map(yr), e.cart.line_items.custom_items.map(yr), e.cart.line_items.digital_items.map(yr), e.cart.line_items.gift_certificates.map(yr)),\n          checkoutUrl: e.cart.redirect_urls.checkout_url,\n          taxTotal: e.tax_total,\n          coupons: e.coupons.map(function (t) {\n            return {\n              id: t.id,\n              code: t.code,\n              couponType: t.coupon_type,\n              discountedAmount: t.discounted_amount\n            };\n          })\n        };\n        var e, n, o;\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getCart = function () {\n    try {\n      var t = this;\n      return Promise.resolve(Cr(function () {\n        function r(r) {\n          return t.getCheckout();\n        }\n\n        var e = ar(t.cartId),\n            n = function () {\n          if (!t.cartId) return Promise.resolve(or.post(e, {\n            line_items: []\n          })).then(function (r) {\n            if (null == r || !r.id) throw \"Missing Cart Id\";\n            return t.setCartId(r.id), Promise.resolve(t.updateCustomerIdInCart()).then(function () {});\n          });\n        }();\n\n        return n && n.then ? n.then(r) : r();\n      }, function (t) {\n        var r = new ht(\"Getting cart failed.\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.addItemsToCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Cr(function () {\n        !function (t) {\n          t.forEach(fr);\n        }(t);\n        var e,\n            n = (e = r.cartId) ? \"/v3/carts/\" + e + \"/items?include=redirect_urls\" : \"/v3/carts?include=redirect_urls\";\n        return Promise.resolve(or.post(n, {\n          line_items: t.map(vr)\n        })).then(function (t) {\n          function e() {\n            return r.getCheckout();\n          }\n\n          if (null == t || !t.id) throw \"Missing Cart Id\";\n\n          var n = function () {\n            if (!r.cartId) return r.setCartId(t.id), Promise.resolve(r.updateCustomerIdInCart()).then(function () {});\n          }();\n\n          return n && n.then ? n.then(e) : e();\n        });\n      }, function (t) {\n        var r = new ht(\"Adding items to cart failed\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateItemsInCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Cr(function () {\n        if (function (t) {\n          if (t.length > 1) throw Error(\"The Management API does not support batch update operations on the Cart resource.\");\n          t.forEach(function (t) {\n            return function (t) {\n              if (!t.lineItemId) throw Error('Please provide the \"lineItemId\" property for every item.');\n              if (!sr(t.lineItemId)) throw Error('All items should have a \"lineItemId\" property of type string.');\n              return t;\n            }(fr(t));\n          });\n        }(t), !r.cartId) throw \"Missing Cart Id\";\n        var e = vr(t[0]),\n            n = cr(r.cartId, e.id);\n        return Promise.resolve(or.put(n, {\n          line_item: e\n        })).then(function () {\n          return r.getCheckout();\n        });\n      }, function (t) {\n        var r = new ht(\"Updating items in cart failed\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.removeItemsFromCart = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Cr(function () {\n        if (function (t) {\n          if (t.length > 1) throw Error(\"The Management API does not support batch delete operations on the Cart resource.\");\n          if (!t.every(sr)) throw Error('All items should have a \"lineItemId\" property of type string');\n        }(t), !r.cartId) throw \"Missing Cart Id\";\n        var e = cr(r.cartId, t[0]);\n        return Promise.resolve(or.delete(e)).then(function (t) {\n          return t ? r.getCheckout() : (r.setCartId(null), r.getCart());\n        });\n      }, function (t) {\n        var r = new ht(\"Removing items from cart failed\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.addShippingAddress = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Cr(function () {\n        if (function (t) {\n          hr({\n            props: t,\n            actionName: \"AddShippingAddress\",\n            availableProps: [\"lineItems\", \"shippingAddress\"]\n          });\n          var r = t.lineItems,\n              e = t.shippingAddress;\n          if (!Array.isArray(r)) throw Error('AddShippingAddress property \"lineItems\" is not type of array.');\n          if (!r.length) throw Error('AddShippingAddress property \"lineItems\" is empty array.');\n          pr(e);\n        }(t), !r.cartId) throw \"Missing Cart Id\";\n        var e = t.lineItems,\n            n = t.shippingAddress,\n            o = ur(r.cartId);\n        return Promise.resolve(or.post(o, [{\n          line_items: e.map(Ir),\n          shipping_address: gr(n)\n        }])).then(function () {\n          return r.getCart();\n        });\n      }, function (t) {\n        var r = new ht(\"Adding shipping address failed\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.updateShippingAddress = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve(Cr(function () {\n        if (function (t) {\n          hr({\n            props: t,\n            actionName: \"UpdateShippingAddress\",\n            availableProps: [\"consignmentId\", \"lineItems\", \"shippingAddress\"]\n          });\n          var r = t.consignmentId,\n              e = t.lineItems,\n              n = t.shippingAddress;\n          if (!sr(r)) throw Error('UpdateShippingAddress property \"consignmentId\" is not type of string');\n          if (!r) throw Error('UpdateShippingAddress property \"consignmentId\" is empty string');\n          if (!Array.isArray(e)) throw Error('UpdateShippingAddress property \"lineItems\" is not type of array.');\n          if (!e.length) throw Error('UpdateShippingAddress property \"lineItems\" is empty array.');\n          pr(n);\n        }(t), !r.cartId) throw \"Missing Cart Id\";\n        var e = t.lineItems,\n            n = t.shippingAddress,\n            o = ur(r.cartId, t.consignmentId);\n        return Promise.resolve(or.put(o, {\n          line_items: e.map(Ir),\n          shipping_address: gr(n)\n        })).then(function () {\n          return r.getCart();\n        });\n      }, function (t) {\n        var r = new ht(\"Updating shipping address failed\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductTrackingData = function (t) {\n    return fr(t), {\n      id: t.id,\n      quantity: t.quantity,\n      brand: this.storeName,\n      variantId: t.variantId,\n      name: t.name,\n      price: t.listPrice\n    };\n  }, r.getItemIdInPlatformSpecificFormat = function (t) {\n    if (\"number\" == typeof t) return t;\n    var r = Number(t);\n    if (!isNaN(r)) throw Error(\"itemId is not type of number and cannot be converted to a number\");\n    return r;\n  }, t;\n}(),\n    kr = {\n  shopify: (wr = {}, wr.graphql = function (t) {\n    if (!Nt(t)) throw new Error(\"Invalid Store Configuration for Shopify.\");\n    var r = t.storeToken || process.env.STORE_TOKEN || \"\",\n        e = new Tt({\n      storeDomain: t.storeDomain || \"\",\n      platformDomain: t.storePlatformDomain || \"\",\n      storefrontAccessToken: r\n    }, {\n      storeName: t.storeName || \"\",\n      storeId: t.storeId || \"\",\n      sharedCheckoutDomains: t.sharedCheckoutDomains\n    });\n    return new Dt({\n      platform: e\n    });\n  }, wr.rest = function (t) {\n    var r = new Mt({\n      storeName: t.storeName || \"\"\n    });\n    return new Dt({\n      platform: r\n    });\n  }, wr),\n  big_commerce: (br = {}, br.rest = function (t) {\n    return new Dt({\n      platform: new rr(t)\n    });\n  }, br.management = function (t) {\n    return new Dt({\n      platform: new _r(t)\n    });\n  }, br)\n};\n\nfunction Sr(t, r) {\n  try {\n    var e = t();\n  } catch (t) {\n    return r(t);\n  }\n\n  return e && e.then ? e.then(void 0, r) : e;\n}\n\nvar Er,\n    jr = function () {\n  function t(t) {\n    var r,\n        e = t.platform;\n    this.platform = void 0, this.productInventoryUrl = void 0, this.platform = e, this.productInventoryUrl = (r = process.env.SITE_DOMAIN || \"\") ? new URL(\"/data/productInventory.json?v=2\", \"https://\" + r).href : \"/data/productInventory.json?v=2\";\n  }\n\n  var r = t.prototype;\n  return r.fetchInventory = function () {\n    try {\n      var t = this;\n      return Promise.resolve(Sr(function () {\n        return Promise.resolve(fetch(t.productInventoryUrl)).then(function (t) {\n          return t.json();\n        });\n      }, function () {\n        return Promise.resolve({\n          products: {},\n          productVariants: {}\n        });\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.refreshInventoryOnInterval = function (t) {\n    var r = this,\n        e = Number(process.env.NEXT_PRODUCT_INVENTORY_REFRESH_INTERVAL || process.env.PRODUCT_INVENTORY_REFRESH_INTERVAL);\n    if (!isNaN(e)) return window.setInterval(function () {\n      try {\n        var e = Sr(function () {\n          return Promise.resolve(r.fetchInventory()).then(function (r) {\n            t(r);\n          });\n        }, function () {});\n        return Promise.resolve(e && e.then ? e.then(function () {}) : void 0);\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    }, Number(e) || 6e4);\n  }, r.fetchProductsInventory = function (t, r) {\n    return this.platform.fetchProductsInventory(t, r);\n  }, r.refreshPlatformInventory = function (t) {\n    var r = this,\n        e = t.ids,\n        n = t.productType,\n        o = t.callback,\n        i = Number(t.interval);\n\n    if (i && !(i < 0)) {\n      var a = Math.pow(2, 31) - 1;\n      return window.setInterval(function () {\n        try {\n          var t = Sr(function () {\n            return Promise.resolve(r.fetchProductsInventory(e, n)).then(function (t) {\n              o(t);\n            });\n          }, function () {});\n          return Promise.resolve(t && t.then ? t.then(function () {}) : void 0);\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      }, i < a ? i : a);\n    }\n  }, r.isProductAvailableForSale = function (t, r) {\n    return this.platform.isProductAvailableForSale(t, r);\n  }, r.getProductQuantity = function (t, r) {\n    return this.platform.getProductQuantity(t, r);\n  }, r.getProductMinOrder = function (t, r) {\n    return this.platform.getProductMinOrder(t, r);\n  }, r.getProductMaxOrder = function (t, r) {\n    return this.platform.getProductMaxOrder(t, r);\n  }, r.getProductPrice = function (t, r) {\n    return this.platform.getProductPrice(t, r);\n  }, t;\n}(),\n    Ar = {\n  shopify: function shopify(t, r) {\n    return gt(t) ? t : {\n      Product: It(t),\n      ProductVariant: Ct(t)\n    }[r];\n  },\n  big_commerce: function big_commerce(t) {\n    if (\"number\" == typeof t) return t;\n    var r = Number(t);\n    if (!isNaN(r)) throw Error(\"itemId is not type of number and cannot be converted to a number\");\n    return r;\n  }\n},\n    Tr = function Tr(t, r, e) {\n  return void 0 === e && (e = \"Product\"), Ar[t](r, e);\n},\n    Fr = F(Er || (Er = m([\"\\n  query getProductInventoryData($ids: [ID!]!) {\\n    nodes(ids: $ids) {\\n      ... on Product {\\n        id\\n        availableForSale\\n        quantityAvailable: totalInventory\\n      }\\n      ... on ProductVariant {\\n        id\\n        availableForSale\\n        quantityAvailable\\n        price\\n      }\\n    }\\n  }\\n\"]))),\n    Dr = function Dr(t) {\n  try {\n    if (!t.ok) throw Error(t.statusText + \" \" + t.status);\n    return Promise.resolve(function (r, e) {\n      try {\n        var n = Promise.resolve(t.json());\n      } catch (t) {\n        return e();\n      }\n\n      return n && n.then ? n.then(void 0, e) : n;\n    }(0, function () {\n      return t;\n    }));\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    Nr = function () {\n  function t(t) {\n    if (this.platformDomain = void 0, this.storeDomain = void 0, this.defaultHeaders = void 0, this.apiUrl = void 0, !Nt(t)) throw new Error(\"Invalid Store Configuration for Shopify.\");\n    var r = t.storeToken,\n        e = t.storeDomain;\n    this.platformDomain = t.storePlatformDomain, this.storeDomain = e, this.defaultHeaders = {\n      \"X-Shopify-Storefront-Access-Token\": r || \"\",\n      \"Accept-Language\": \"*\",\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }, this.apiUrl = (this.platformDomain ? \"https://\" + this.platformDomain : this.storeDomain ? \"https://\" + this.storeDomain : \"\") + \"/api/2021-07/graphql\";\n  }\n\n  return t.prototype.fetchInventoryByProductIds = function (t) {\n    return function (t, r, e) {\n      try {\n        return Promise.resolve(fetch(t, {\n          method: \"POST\",\n          headers: r,\n          body: e\n        })).then(Dr);\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    }(this.apiUrl, this.defaultHeaders, Fr({\n      ids: t\n    }));\n  }, t;\n}();\n\nfunction Or(t) {\n  if (r = t, !Array.isArray(r) || !Boolean(r.length)) throw new Error(\"Ids must be an array\");\n  var r;\n  if (!t.every(function (t) {\n    return \"string\" == typeof (e = t) && Boolean(e) || \"number\" == typeof (r = t) && r > 0;\n    var r, e;\n  })) throw new Error(\"Ids must be an array of strings or numbers\");\n  if (t.length > 250) throw new Error(\"Max number of ids is 250\");\n}\n\nfunction qr(t, r) {\n  try {\n    var e = t();\n  } catch (t) {\n    return r(t);\n  }\n\n  return e && e.then ? e.then(void 0, r) : e;\n}\n\nvar xr = function () {\n  function t(t) {\n    var r = this;\n    this.client = void 0, this.inventory = void 0, this.getStorefrontIdsMap = function (t, e) {\n      return t.reduce(function (t, n) {\n        return t[r.getItemIdInPlatformSpecificFormat(n, e)] = n, t;\n      }, {});\n    }, this.modifyInventoryResponse = function (t, e) {\n      return t.reduce(function (t, n) {\n        var o,\n            i,\n            a = n.id,\n            c = e[a];\n        return c && (t[c] = {\n          price: n.price,\n          availableForSale: n.availableForSale,\n          quantity: n.quantityAvailable,\n          minOrder: null == (o = r.getProductFromInventory(a)) ? void 0 : o.minOrder,\n          maxOrder: null == (i = r.getProductFromInventory(a)) ? void 0 : i.maxOrder\n        }), t;\n      }, {});\n    }, this.client = new Nr(t), this.inventory = t.inventory || {};\n  }\n\n  var r = t.prototype;\n  return r.getProductFromInventory = function (t) {\n    var r, e;\n    return (null == (r = this.inventory.products) ? void 0 : r[t]) || (null == (e = this.inventory.productVariants) ? void 0 : e[t]);\n  }, r.getItemIdInPlatformSpecificFormat = function (t, r) {\n    return Tr(\"shopify\", t, r);\n  }, r.fetchProductsInventory = function (t, r) {\n    try {\n      var e = this;\n      return Promise.resolve(qr(function () {\n        Or(t);\n        var n = e.getStorefrontIdsMap(t, r),\n            o = Object.keys(n);\n        return Promise.resolve(e.client.fetchInventoryByProductIds(o)).then(function (t) {\n          return e.modifyInventoryResponse(t.data.nodes, n);\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch inventory data from platform\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.isProductAvailableForSale = function (t, r) {\n    try {\n      var e = this;\n      return Promise.resolve(qr(function () {\n        return Promise.resolve(e.fetchProductsInventory([t], r)).then(function (r) {\n          var e;\n          return Boolean(null == (e = r[t]) ? void 0 : e.availableForSale);\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch product availability\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductMinOrder = function (t, r) {\n    try {\n      try {\n        var e = this.getItemIdInPlatformSpecificFormat(t, r),\n            n = this.getProductFromInventory(e);\n        return Promise.resolve(null == n ? void 0 : n.minOrder);\n      } catch (t) {\n        var o = new ht(\"Could not fetch min order\", t);\n        throw pt(o), o;\n      }\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductMaxOrder = function (t, r) {\n    try {\n      try {\n        var e = this.getItemIdInPlatformSpecificFormat(t, r),\n            n = this.getProductFromInventory(e);\n        return Promise.resolve(null == n ? void 0 : n.maxOrder);\n      } catch (t) {\n        var o = new ht(\"Could not fetch max order\", t);\n        throw pt(o), o;\n      }\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductQuantity = function (t, r) {\n    try {\n      var e = this;\n      return Promise.resolve(qr(function () {\n        return Promise.resolve(e.fetchProductsInventory([t], r)).then(function (r) {\n          var e;\n          return null == (e = r[t]) ? void 0 : e.quantity;\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch product quantity\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductPrice = function (t, r) {\n    try {\n      var e = this;\n      return Promise.resolve(qr(function () {\n        return Promise.resolve(e.fetchProductsInventory([t], r)).then(function (r) {\n          var e;\n          return null == (e = r[t]) ? void 0 : e.price;\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch product price\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, t;\n}(),\n    Ur = function Ur(t) {\n  try {\n    if (!t.ok) throw Error(t.statusText + \" \" + t.status);\n    return Promise.resolve(t.json());\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    Vr = [\"id\", \"price\", \"inventory_level\", \"inventory_warning_level\", \"inventory_tracking\", \"total_sold\", \"availability\", \"availability_description\", \"order_quantity_minimum\"].join(\",\");\n\nfunction $r(t, r) {\n  try {\n    var e = t();\n  } catch (t) {\n    return r(t);\n  }\n\n  return e && e.then ? e.then(void 0, r) : e;\n}\n\nvar Rr = function () {\n  function t() {}\n\n  var r = t.prototype;\n  return r.getItemIdInPlatformSpecificFormat = function (t) {\n    return Tr(\"big_commerce\", t);\n  }, r.getStorefrontIdsMap = function (t) {\n    var r = this;\n    return t.reduce(function (t, e) {\n      return t[String(r.getItemIdInPlatformSpecificFormat(e))] = e, t;\n    }, {});\n  }, r.modifyInventoryResponse = function (t, r) {\n    return t.reduce(function (t, e) {\n      var n = r[e.id];\n      return n && (t[n] = {\n        availableForSale: \"available\" === e.availability,\n        inventoryTracking: \"none\" !== e.inventory_tracking,\n        quantity: e.inventory_level,\n        minOrder: e.order_quantity_minimum,\n        maxOrder: e.order_quantity_maximum,\n        price: e.price\n      }), t;\n    }, {});\n  }, r.fetchProductsInventory = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve($r(function () {\n        Or(t);\n        var e,\n            n = r.getStorefrontIdsMap(t),\n            o = Object.keys(n);\n        return Promise.resolve((e = o, function (t, r) {\n          try {\n            return Promise.resolve(fetch(t, {\n              method: \"GET\",\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify(void 0)\n            })).then(Ur);\n          } catch (t) {\n            return Promise.reject(t);\n          }\n        }(function (t) {\n          return \"/v3/catalog/products?id:in=\" + t + \"&include_fields=\" + Vr;\n        }(e.join(\",\"))))).then(function (t) {\n          return r.modifyInventoryResponse(t.data, n);\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch inventory data from platform\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.isProductAvailableForSale = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve($r(function () {\n        return Promise.resolve(r.fetchProductsInventory([t])).then(function (r) {\n          var e;\n          return Boolean(null == (e = r[t]) ? void 0 : e.availableForSale);\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch product availability\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductQuantity = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve($r(function () {\n        return Promise.resolve(r.fetchProductsInventory([t])).then(function (r) {\n          var e = r[t] || {};\n          if (e.inventoryTracking) return e.quantity;\n          console.warn(\"Inventory tracking is not enabled for this product\");\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch product quantity\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductMinOrder = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve($r(function () {\n        return Promise.resolve(r.fetchProductsInventory([t])).then(function (r) {\n          var e;\n          return null == (e = r[t]) ? void 0 : e.minOrder;\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch min order\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductMaxOrder = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve($r(function () {\n        return Promise.resolve(r.fetchProductsInventory([t])).then(function (r) {\n          var e;\n          return null == (e = r[t]) ? void 0 : e.maxOrder;\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch max order\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, r.getProductPrice = function (t) {\n    try {\n      var r = this;\n      return Promise.resolve($r(function () {\n        return Promise.resolve(r.fetchProductsInventory([t])).then(function (r) {\n          var e;\n          return null == (e = r[t]) ? void 0 : e.price;\n        });\n      }, function (t) {\n        var r = new ht(\"Could not fetch product price\", t);\n        throw pt(r), r;\n      }));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, t;\n}(),\n    Mr = function Mr(t) {\n  return function (r) {\n    return new jr({\n      platform: new t(r)\n    });\n  };\n},\n    Lr = {\n  shopify: Mr(xr),\n  big_commerce: Mr(Rr)\n};\n\nfunction Kr(t, r) {\n  return \"object\" == typeof t ? a({}, t, {\n    type: null != t.type ? t.type : r\n  }) : {\n    id: t,\n    type: r\n  };\n}\n\nvar zr = {\n  id: \"\",\n  items: [],\n  inventory: {\n    products: void 0,\n    productVariants: void 0,\n    status: \"loading\"\n  },\n  currencyCode: \"\",\n  subtotalPrice: \"\",\n  totalPrice: \"\",\n  discountAmount: null,\n  isCartShown: !1,\n  checkoutUrl: \"\",\n  currencies: [],\n  consignment: null\n},\n    Br = t.createContext(zr),\n    Hr = t.createContext({}),\n    Jr = t.createContext({});\n\nfunction Qr(t, r) {\n  switch (r.type) {\n    case \"initial load\":\n    case \"update cart\":\n      return a({}, t, r.payload);\n\n    case \"show cart\":\n      return a({}, t, {\n        isCartShown: !0\n      });\n\n    case \"hide cart\":\n      return a({}, t, {\n        isCartShown: !1\n      });\n\n    case \"update inventory\":\n      return a({}, t, {\n        inventory: a({}, r.payload)\n      });\n\n    case \"add currencies\":\n      return a({}, t, {\n        currencies: r.payload\n      });\n\n    default:\n      throw new Error(\"Wrong action type sent to cartReducer.\");\n  }\n}\n\nfunction Wr(e) {\n  var n = e.children,\n      o = e.platform,\n      i = e.storeConfig,\n      c = i.platformApiType,\n      u = void 0 === c ? \"graphql\" : c;\n  !function (t) {\n    var r = t.platform,\n        e = t.platformApiType;\n    if (!function (t) {\n      return j.includes(t);\n    }(r)) throw Error(\"Unsupported platform provided to CartProvider.\");\n    if (!function (t) {\n      return A.includes(t);\n    }(e)) throw Error(\"Unsupported platformApiType provided to CartProvider.\");\n    if (\"big_commerce\" === r && \"graphql\" === e) throw Error(\"The BigCommerce checkout only supports the REST API.\");\n  }({\n    platform: o,\n    platformApiType: u\n  });\n  var s = kr[o][u];\n  if (!s) return null;\n  var d = Lr[o](i);\n  if (!d) return null;\n  var f = t.useState(function () {\n    return s(i);\n  })[0],\n      l = t.useReducer(Qr, zr),\n      h = l[0],\n      m = l[1],\n      p = r(zr),\n      v = {\n    shopify: \"ProductVariant\",\n    big_commerce: \"Product\"\n  }[o];\n  return t.useEffect(function () {\n    p.current = h;\n  }, [h]), t.useEffect(function () {\n    var t = void 0,\n        r = f.getCart(),\n        e = d.fetchInventory();\n    return Promise.all([r, e]).then(function (r) {\n      var e = r[1];\n      m({\n        type: \"initial load\",\n        payload: a({}, r[0], {\n          inventory: {\n            products: null == e ? void 0 : e.products,\n            productVariants: null == e ? void 0 : e.productVariants,\n            status: \"loaded\"\n          }\n        })\n      }), t = d.refreshInventoryOnInterval(function (t) {\n        m({\n          type: \"update inventory\",\n          payload: {\n            products: t.products,\n            productVariants: t.productVariants,\n            status: \"loaded\"\n          }\n        });\n      });\n    }).catch(function (t) {\n      m({\n        type: \"initial load\",\n        payload: a({}, t, {\n          inventory: {\n            products: null,\n            productVariants: null,\n            status: \"error\"\n          }\n        })\n      });\n    }), function () {\n      null != t && clearInterval(t);\n    };\n  }, []), t.createElement(Br.Provider, {\n    value: h\n  }, t.createElement(Hr.Provider, {\n    value: Gr(m, f, p, d, v)\n  }, t.createElement(Jr.Provider, {\n    value: d\n  }, n)));\n}\n\nfunction Gr(t, r, e, n, o) {\n  return {\n    fetchProduct: function fetchProduct(t) {\n      try {\n        var e = Kr(t, \"Product\"),\n            n = e.id;\n        return Promise.resolve(\"Product\" === e.type ? r.fetchProduct(n) : r.fetchProductVariant(n));\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    },\n    addItems: function addItems(e) {\n      try {\n        return Promise.resolve(r.addItemsToCart(e)).then(function (r) {\n          return Xr(t, r), r;\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    },\n    updateItems: function updateItems(e) {\n      try {\n        return Promise.resolve(r.updateItemsInCart(e)).then(function (r) {\n          return Xr(t, r), r;\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    },\n    removeItems: function removeItems(e) {\n      try {\n        return Promise.resolve(r.removeItemsFromCart(e)).then(function (r) {\n          return Xr(t, r), r;\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    },\n    updateCart: function updateCart(e) {\n      try {\n        return Promise.resolve(r.updateCart(e)).then(function (r) {\n          return Xr(t, r), r;\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    },\n    showCart: function showCart() {\n      t({\n        type: \"show cart\"\n      });\n    },\n    hideCart: function hideCart() {\n      t({\n        type: \"hide cart\"\n      });\n    },\n    getProductTrackingData: function getProductTrackingData(t) {\n      return r.getProductTrackingData(t);\n    },\n    isProductInInventory: function isProductInInventory() {\n      console.warn(\"\\n\\tDeprecation Warning:\\n\\t'isProductInInventory is deprecated.\\n\\tPlease use 'isProductAvailableForSale()' instead.\\n\\t\\t\\t\");\n    },\n    isProductAvailableForSale: function isProductAvailableForSale(t) {\n      var r = Kr(t, o);\n      return n.isProductAvailableForSale(r.id, r.type);\n    },\n    getProductQuantity: function getProductQuantity(t) {\n      var r = Kr(t, o);\n      return n.getProductQuantity(r.id, r.type);\n    },\n    getProductMinOrder: function getProductMinOrder(t) {\n      var r = Kr(t, o);\n      return n.getProductMinOrder(r.id, r.type);\n    },\n    getProductMaxOrder: function getProductMaxOrder(t) {\n      var r = Kr(t, o);\n      return n.getProductMaxOrder(r.id, r.type);\n    },\n    getProductPrice: function getProductPrice(t) {\n      var r = Kr(t, o);\n      return n.getProductPrice(r.id, r.type);\n    },\n    getCurrencies: function getCurrencies() {\n      try {\n        return Promise.resolve(r.fetchCurrencies()).then(function (r) {\n          return t({\n            type: \"add currencies\",\n            payload: r\n          }), r;\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    },\n    selectCurrency: function selectCurrency(n) {\n      try {\n        var o = e.current.items.map(function (t) {\n          return {\n            quantity: t.quantity,\n            variantId: t.variant.id,\n            customAttributes: t.customAttributes\n          };\n        });\n        return Promise.resolve(r.selectCurrency({\n          currency: n,\n          lineItems: o\n        })).then(function (r) {\n          return Xr(t, r), r;\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    },\n    getShippingQuotes: function getShippingQuotes(n) {\n      try {\n        var o,\n            i = function i() {\n          var r, e;\n          return Xr(t, o), null == (r = o) || null == (e = r.consignment) ? void 0 : e.availableShippingOptions;\n        },\n            a = e.current,\n            c = a.consignment,\n            u = a.items.map(function (t) {\n          return {\n            id: t.id,\n            quantity: t.quantity\n          };\n        }),\n            s = null != c && c.id ? Promise.resolve(r.updateShippingAddress({\n          consignmentId: c.id,\n          lineItems: u,\n          shippingAddress: n\n        })).then(function (t) {\n          o = t;\n        }) : Promise.resolve(r.addShippingAddress({\n          lineItems: u,\n          shippingAddress: n\n        })).then(function (t) {\n          o = t;\n        });\n\n        return Promise.resolve(s && s.then ? s.then(i) : i());\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    }\n  };\n}\n\nfunction Xr(t, r) {\n  t({\n    type: \"update cart\",\n    payload: r\n  });\n}\n\nfunction Zr() {\n  return t.useContext(Br);\n}\n\nfunction Yr() {\n  return t.useContext(Hr);\n}\n\nfunction te() {\n  return [Zr(), Yr()];\n}\n\nvar re = function re(c) {\n  var u = c || {},\n      s = u.ids,\n      d = u.productType,\n      f = u.interval,\n      l = t.useContext(Jr),\n      h = e({\n    products: {},\n    loading: Boolean(null == s ? void 0 : s.length)\n  }),\n      m = h[0],\n      p = h[1],\n      v = r(s),\n      y = r(m.loading);\n  y.current = m.loading;\n  var P = n(function () {\n    var t;\n    return s && v.current && (null == (t = v.current) ? void 0 : t.length) === (null == s ? void 0 : s.length) && (null == v.current.every ? void 0 : v.current.every(function (t) {\n      return null == s.includes ? void 0 : s.includes(t);\n    })) ? v.current : (v.current = s, s);\n  }, [s]),\n      g = o(function (t) {\n    p({\n      products: t,\n      loading: !1\n    });\n  }, [p]);\n  return i(function () {\n    if (null != P && P.length && (y.current || p(function (t) {\n      return a({}, t, {\n        loading: !0\n      });\n    }), function () {\n      try {\n        Promise.resolve(l.fetchProductsInventory(s, d)).then(function (t) {\n          g(t);\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    }(), f)) {\n      var t = l.refreshPlatformInventory({\n        ids: P,\n        interval: f,\n        productType: d,\n        callback: g\n      });\n      return function () {\n        clearInterval(t);\n      };\n    }\n  }, [P, d]), m;\n};\n\nexport { Wr as CartProvider, te as useCart, Yr as useCartActions, Zr as useCartState, re as useInventory };","map":null,"metadata":{},"sourceType":"module"}