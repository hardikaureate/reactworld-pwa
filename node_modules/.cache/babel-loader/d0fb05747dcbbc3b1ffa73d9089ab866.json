{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Client from'shopify-buy';import{jsx as _jsx}from\"react/jsx-runtime\";var ShopContext=/*#__PURE__*/React.createContext();var client=Client.buildClient({domain:'sacheustore.myshopify.com',storefrontAccessToken:'251aff87463a43306b6c981179644ecf'});var ShopProvider=/*#__PURE__*/function(_Component){_inherits(ShopProvider,_Component);var _super=_createSuper(ShopProvider);function ShopProvider(){var _this;_classCallCheck(this,ShopProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={product:{},products:[],checkout:{},collectionId:{},isCartOpen:false,isMenuOpen:false};_this.createCheckout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var checkout;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.checkout.create();case 2:checkout=_context.sent;localStorage.setItem('checkout_id',checkout.id);_this.setState({checkout:checkout});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.fetchCheckout=function(checkoutId){client.checkout.fetch(checkoutId).then(function(checkout){_this.setState({checkout:checkout});});};_this.fetchColletion=function(collectionId){client.collection.fetch(collectionId).then(function(collection){_this.setState({collection:collection});});};_this.addItemToCheckout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(variantId,quantity){var lineItemsToAdd,checkout;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:lineItemsToAdd=[{variantId:variantId,quantity:parseInt(quantity,10)}];_context2.next=3;return client.checkout.addLineItems(_this.state.checkout.id,lineItemsToAdd);case 3:checkout=_context2.sent;_this.setState({checkout:checkout});_this.openCart();case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}();_this.removeLineItem=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(lineItemIdsToRemove){var checkout;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return client.checkout.removeLineItems(_this.state.checkout.id,lineItemIdsToRemove);case 2:checkout=_context3.sent;_this.setState({checkout:checkout});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();_this.fetchAllProducts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var products;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return client.product.fetchAll(50);case 2:products=_context4.sent;_this.setState({products:products});//console.log('ddddddddddddd',products);\ncase 4:case\"end\":return _context4.stop();}}},_callee4);}));_this.fetchAllCollectionProducts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var collections;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return client.collection.fetchAllWithProducts();case 2:collections=_context5.sent;_this.setState({collections:collections});//console.log(collections);\ncase 4:case\"end\":return _context5.stop();}}},_callee5);}));_this.fetchCollectionWithHandle=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(collectionId){var collectionsdata;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return client.collection.fetchWithProducts('Z2lkOi8vc2hvcGlmeS9Db2xsZWN0aW9uLzI3MjE2NDA2MTM3MA==');case 2:collectionsdata=_context6.sent;_this.setState({collectionsdata:collectionsdata});//console.log('cccccccc', collectionsdata);\n//console.log('xxxxxxxx',collectionsdata.products);\ncase 4:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref6.apply(this,arguments);};}();_this.fetchProductWithHandle=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(handle){var product;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return client.product.fetchByHandle(handle);case 2:product=_context7.sent;_this.setState({product:product});//console.log('tttttttttttttttt',product);\ncase 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref7.apply(this,arguments);};}();_this.closeCart=function(){_this.setState({isCartOpen:false});};_this.openCart=function(){_this.setState({isCartOpen:true});};_this.closeMenu=function(){_this.setState({isMenuOpen:false});};_this.openMenu=function(){_this.isMenuOpen({isMenuOpen:true});};return _this;}_createClass(ShopProvider,[{key:\"componentDidMount\",value:function componentDidMount(){if(localStorage.checkout_id){this.fetchCheckout(localStorage.checkout_id);}else{this.createCheckout();}}},{key:\"render\",value:function render(){console.log();return/*#__PURE__*/_jsx(ShopContext.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{fetchAllProducts:this.fetchAllProducts,fetchAllCollectionProducts:this.fetchAllCollectionProducts,fetchCollectionWithHandle:this.fetchCollectionWithHandle,fetchProductWithHandle:this.fetchProductWithHandle,addItemToCheckout:this.addItemToCheckout,removeLineItem:this.removeLineItem,closeCart:this.closeCart,openCart:this.openCart,closeMenu:this.closeMenu,openMenu:this.openMenu}),children:this.props.children});}}]);return ShopProvider;}(Component);var ShopConsumer=ShopContext.Consumer;export{ShopConsumer,ShopContext};export default ShopProvider;","map":null,"metadata":{},"sourceType":"module"}