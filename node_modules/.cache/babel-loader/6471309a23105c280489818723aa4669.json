{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{Image,Button}from\"@chakra-ui/react\";import'../../assets/CSS/productpage.css';import'./relatedproduct.css';import Slider from\"react-slick\";import Skeleton from'react-loading-skeleton';import{ShopContext}from\"../../context/ShopContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PDPRelatedProduct=function PDPRelatedProduct(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useContext=useContext(ShopContext),fetchAllProducts=_useContext.fetchAllProducts,products=_useContext.products,addItemToCheckout=_useContext.addItemToCheckout,product=_useContext.product;useEffect(function(){setTimeout(function(){return setLoading(false);},2000);fetchAllProducts();},[fetchAllProducts]);var settings={dots:false,arrows:false,infinite:false,slidesToShow:4,slidesToScroll:2,autoplay:true,speed:5000,autoplaySpeed:1000,responsive:[{breakpoint:1199,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]};var extractedInfo=\"\";if(product.id){var buff=Buffer.from(product===null||product===void 0?void 0:product.id,'base64');var decodedId=buff.toString('ascii');extractedInfo=decodedId.split(/[\\s/]+/).pop();}//console.log({ products })\nreturn/*#__PURE__*/_jsx(\"div\",{id:\"wrapper\",className:\"pdprelatedprodsection\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relatedProduct\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"instaTitle\",children:/*#__PURE__*/_jsx(\"h2\",{children:props.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"relatedproductContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product-listing\",children:/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({infinite:products&&products.length>3},settings),{},{children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"itemBox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[product.variants[0].compareAtPrice>product.variants[0].price?/*#__PURE__*/_jsx(\"span\",{className:\"sale\",children:\"SALE\"}):/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"imageContainer\",children:/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.handle),\"aria-label\":\"Navigate to \".concat(product.title,\" product page\"),children:[loading&&/*#__PURE__*/_jsx(Skeleton,{height:306}),!loading&&/*#__PURE__*/_jsx(Image,{src:product.images[0].src})]},product.id)}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfo\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.handle),children:[loading&&/*#__PURE__*/_jsx(Skeleton,{height:30}),!loading&&/*#__PURE__*/_jsx(\"h3\",{className:\"itemName\",children:product.title})]}),/*#__PURE__*/_jsx(\"p\",{className:\"relatedProPrice\",children:loading?/*#__PURE__*/_jsx(Skeleton,{height:30}):\"\".concat(product.variants[0].price)}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},className:\"\",children:/*#__PURE__*/_jsx(\"div\",{class:\"yotpo bottomLine\",\"data-product-id\":extractedInfo,style:{display:'inline-block'}})}),loading?/*#__PURE__*/_jsx(Skeleton,{height:42}):/*#__PURE__*/_jsx(Button,{mt:\"3%\",className:\"cartButton\",onClick:function onClick(){return addItemToCheckout(product.variants[0].id,1);},children:\"Add To Cart\"})]})]})},product.id);})}))})})]})})})});};export default PDPRelatedProduct;","map":null,"metadata":{},"sourceType":"module"}