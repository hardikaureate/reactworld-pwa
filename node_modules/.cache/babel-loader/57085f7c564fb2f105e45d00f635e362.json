{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{Image,Button,Text}from\"@chakra-ui/react\";import'../../assets/CSS/productpage.css';import'./relatedproduct.css';import Slider from\"react-slick\";import Skeleton from'react-loading-skeleton';import{ShopContext}from\"../../context/ShopContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PDPRelatedProduct=function PDPRelatedProduct(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useContext=useContext(ShopContext),fetchAllProducts=_useContext.fetchAllProducts,products=_useContext.products,addItemToCheckout=_useContext.addItemToCheckout,product=_useContext.product;useEffect(function(){setTimeout(function(){return setLoading(false);},2000);fetchAllProducts();},[fetchAllProducts]);var settings={dots:false,arrows:false,infinite:false,slidesToShow:4,slidesToScroll:2,autoplay:true,speed:5000,autoplaySpeed:1000,responsive:[{breakpoint:1199,settings:{slidesToShow:3}},{breakpoint:767,settings:\"unslick\"}]};var extractedInfo=\"\";if(product.id){var buff=Buffer.from(product===null||product===void 0?void 0:product.id,'base64');var decodedId=buff.toString('ascii');extractedInfo=decodedId.split(/[\\s/]+/).pop();}//console.log({ products })\nreturn/*#__PURE__*/_jsx(\"div\",{id:\"wrapper\",className:\"pdprelatedprodsection\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relatedProduct\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"instaTitle\",children:/*#__PURE__*/_jsx(\"h2\",{children:props.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"relatedproductContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product-listing\",children:/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({infinite:products&&products.length>3},settings),{},{children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"itemBox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[product.variants[0].compareAtPrice>product.variants[0].price?/*#__PURE__*/_jsx(\"span\",{className:\"sale\",children:\"SALE\"}):/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"imageContainer\",children:/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.handle),\"aria-label\":\"Navigate to \".concat(product.title,\" product page\"),children:[loading&&/*#__PURE__*/_jsx(Skeleton,{height:306}),!loading&&/*#__PURE__*/_jsx(Image,{src:product.images[0].src})]},product.id)}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfo\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.handle),children:[loading&&/*#__PURE__*/_jsx(Skeleton,{height:30}),!loading&&/*#__PURE__*/_jsx(\"h3\",{className:\"itemName\",children:product.title})]}),/*#__PURE__*/_jsx(\"p\",{className:\"relatedProPrice\",children:loading?/*#__PURE__*/_jsx(Skeleton,{height:30}):\"\".concat(product.variants[0].price)}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},className:\"\",children:/*#__PURE__*/_jsx(\"div\",{class:\"yotpo bottomLine\",\"data-product-id\":\"4746070032433\",style:{display:'inline-block'}})}),loading?/*#__PURE__*/_jsx(Skeleton,{height:42}):/*#__PURE__*/_jsx(Button,{mt:\"3%\",className:\"cartButton\",onClick:function onClick(){return addItemToCheckout(product.variants[0].id,1);},children:\"Add To Cart\"})]})]})},product.id);})}))})})]})})})});};export default PDPRelatedProduct;","map":{"version":3,"sources":["/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/src/components/slider/PDPRelatedProduct.js"],"names":["React","useContext","useEffect","useState","Link","Image","Button","Text","Slider","Skeleton","ShopContext","PDPRelatedProduct","props","loading","setLoading","fetchAllProducts","products","addItemToCheckout","product","setTimeout","settings","dots","arrows","infinite","slidesToShow","slidesToScroll","autoplay","speed","autoplaySpeed","responsive","breakpoint","extractedInfo","id","buff","Buffer","from","decodedId","toString","split","pop","title","length","map","variants","compareAtPrice","price","handle","images","src","textAlign","display"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Image, Button, Text } from \"@chakra-ui/react\"\nimport '../../assets/CSS/productpage.css'\nimport './relatedproduct.css'\nimport Slider from \"react-slick\"\nimport Skeleton from 'react-loading-skeleton'\nimport { ShopContext } from \"../../context/ShopContext\"\n\nconst PDPRelatedProduct = (props) => {\n\n  const [loading, setLoading] = useState(true)\n  const { fetchAllProducts, products, addItemToCheckout, product } = useContext(ShopContext)\n  useEffect(() => {\n    setTimeout(() => setLoading(false), 2000)\n    fetchAllProducts()\n  }, [fetchAllProducts])\n\n  const settings = {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    slidesToShow: 4,\n    slidesToScroll: 2,\n    autoplay: true,\n    speed: 5000,\n    autoplaySpeed: 1000,\n    responsive: [\n      {\n        breakpoint: 1199,\n        settings: {\n          slidesToShow: 3\n        }\n      },\n      {\n        breakpoint: 767,\n        settings: \"unslick\"\n      }\n    ]\n  }\n\n  let extractedInfo = \"\"\n  if (product.id) {\n    const buff = Buffer.from(product?.id, 'base64')\n    const decodedId = buff.toString('ascii')\n    extractedInfo = decodedId.split(/[\\s/]+/).pop()\n  }\n  //console.log({ products })\n\n  return (\n    <div id=\"wrapper\" className=\"pdprelatedprodsection\">\n      <div className=\"inner\">\n        <div className=\"relatedProduct\">\n          <div className=\"Container\">\n            {/* <div class=\"relatedProductTitle\">\n              <h2>Related Sacheu Products</h2>\n            </div> */}\n            <div class=\"instaTitle\">\n              <h2>{props.title}</h2>\n              {/* <h2>Related Sacheu Products</h2> */}\n            </div>\n            <div className=\"relatedproductContainer\">\n              <div className=\"product-listing\">\n                <Slider infinite={products && products.length > 3} {...settings}>\n                  {products.map((product) => (\n                    <div className=\"itemBox\" key={product.id}>\n                      <div className=\"item\">\n                        {product.variants[0].compareAtPrice > product.variants[0].price ? (<span className=\"sale\">SALE</span>) : (<span></span>)}\n                        <div className=\"imageContainer\">\n                          <Link to={`/products/${product.handle}`} key={product.id} aria-label={`Navigate to ${product.title} product page`}>\n                            {loading && <Skeleton height={306} />}\n                            {!loading && <Image src={product.images[0].src} />}\n                          </Link>\n                        </div>\n                        <div className=\"productInfo\">\n                          <Link to={`/products/${product.handle}`}>\n                            {loading && <Skeleton height={30} />}\n                            {!loading && <h3 className=\"itemName\">{product.title}</h3>}\n                          </Link>\n                          <p className=\"relatedProPrice\">\n                            {loading ? <Skeleton height={30} /> : `${product.variants[0].price}`}\n                          </p>\n                          <div style={{ textAlign: 'center' }} className=\"\">\n                            <div class=\"yotpo bottomLine\" data-product-id=\"4746070032433\" style={{ display: 'inline-block' }}></div>\n                          </div>\n\n                          {loading ? <Skeleton height={42} /> : <Button mt=\"3%\" className=\"cartButton\" onClick={() => addItemToCheckout(product.variants[0].id, 1)}>Add To Cart</Button>}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </Slider>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PDPRelatedProduct\n"]},"metadata":{},"sourceType":"module"}