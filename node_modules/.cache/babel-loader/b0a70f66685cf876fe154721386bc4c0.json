{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"productId\",\"quantity\"];import React,{useEffect}from'react';import{useCartActions,useCartState}from'frontend-checkout';import SacheuButtonComponent from'./SacheuButtonComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PRODUCT_AVAILABLE_TEXT='Add to Cart';var SOLD_OUT_PRODUCT_TEXT='Sold out';var SacheuAddToCartButtonComponent=/*#__PURE__*/React.forwardRef(function(props,ref){var productId=props.productId,quantity=props.quantity,rest=_objectWithoutProperties(props,_excluded);var _useCartActions=useCartActions(),addItems=_useCartActions.addItems,showCart=_useCartActions.showCart;var _useCartState=useCartState(),inventory=_useCartState.inventory;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),isLoading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),disable=_React$useState4[0],setDisable=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),availableForSale=_React$useState6[0],setAvailableForSale=_React$useState6[1];useEffect(function(){setLoading(inventory.status==='loading');if(!inventory.productVariants||!productId)return setDisable(true);var availableForSale=inventory.productVariants[productId].availableForSale;setAvailableForSale(availableForSale);setDisable(!availableForSale);},[inventory,productId]);var clickHandler=function clickHandler(){if(!productId)return;addItems({id:productId,quantity:quantity});showCart();};//console.log(productId)\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(SacheuButtonComponent,_objectSpread(_objectSpread({ref:ref,disabled:disable,onClick:clickHandler,isFullWidth:true,isLoading:isLoading},rest),{},{children:availableForSale?PRODUCT_AVAILABLE_TEXT:SOLD_OUT_PRODUCT_TEXT}))});});export default SacheuAddToCartButtonComponent;","map":null,"metadata":{},"sourceType":"module"}