{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import{useParams}from'react-router-dom';//import './../assets/CSS/productpage.css'\nimport{ShopContext}from'../context/ShopContext';import{Grid,Image,Text,Heading,Flex}from'@chakra-ui/react';import Skeleton from'react-loading-skeleton';import NumberInput from'./NumberInput';import Slider from\"react-slick\";import Zoom from'react-medium-image-zoom';import'react-medium-image-zoom/dist/styles.css';import'../components/slider/relatedproduct.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var width=window.innerWidth;//console.log(width)\nvar _useParams=useParams(),handle=_useParams.handle;var _useContext=useContext(ShopContext),fetchProductWithHandle=_useContext.fetchProductWithHandle,addItemToCheckout=_useContext.addItemToCheckout,product=_useContext.product;useEffect(function(){setTimeout(function(){return setLoading(false);},2000);fetchProductWithHandle(handle);},[fetchProductWithHandle,handle]);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),imageclick=_useState2[0],setImageclick=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _React$useState=React.useState(1),_React$useState2=_slicedToArray(_React$useState,2),productQuantity=_React$useState2[0],setProductQuantity=_React$useState2[1];var handleProductQuantity=function handleProductQuantity(quantityAsString,quantityAsNumber){setProductQuantity(quantityAsNumber);};var extractedInfo=\"\";if(product.id){var buff=Buffer.from(product===null||product===void 0?void 0:product.id,'base64');var decodedId=buff.toString('ascii');extractedInfo=decodedId.split(/[\\s/]+/).pop();}//console.log('review-->', product)\nvar settings={dots:false,arrows:false,infinite:true,slidesToShow:4,vertical:true,verticalSwiping:true,slidesToScroll:1,autoplay:true,speed:1000,autoplaySpeed:500,focusOnSelect:true};var mobsettings={dots:true,arrows:true,infinite:true,slidesToShow:1,slidesToScroll:1,autoplay:true,lazyLoad:true,speed:5000,autoplaySpeed:1000,responsive:[{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]};if(!product.title)return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"loading\",children:\"Loading\\u2026\"})});//if (!product.title) return <div><div class=\"spinner\"><div class=\"spinner spinner2\"><div class=\"spinner spinner3\"></div></div></div></div>\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{id:\"wrapper\",children:/*#__PURE__*/_jsx(\"section\",{id:\"two\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner pdppage\",children:/*#__PURE__*/_jsx(\"div\",{class:\"box alt\",children:/*#__PURE__*/_jsxs(Grid,{className:\"productMobile\",templateColumns:[\"repeat(1, 1fr)\",\"repeat(2, 1fr)\"],m:\"auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"proLeft productImage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imageThumbnail\",children:/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{children:product.images&&product.images.map(function(item,index){return loading?/*#__PURE__*/_jsx(Skeleton,{width:90,height:70}):/*#__PURE__*/_jsx(Image,{src:item&&item.src,alt:\"sacheu\",onClick:function onClick(){return setImageclick(index);},className:\"prodmetaImages\"},index);})}))}),/*#__PURE__*/_jsx(Flex,{className:\"productImg\",justifyContent:\"center\",alignItems:\"center\",children:width<767?loading?/*#__PURE__*/_jsx(Skeleton,{width:343,height:365}):/*#__PURE__*/_jsx(Image,{src:product.images[imageclick].src}):loading?/*#__PURE__*/_jsx(Skeleton,{width:650,height:600}):/*#__PURE__*/_jsx(Zoom,{zoomMargin:6,isZoomed:true,overlayBgColorStart:'rgba(36, 41, 67, 0.15)',overlayBgColorEnd:'rgba(36, 41, 67, 0.85)',children:/*#__PURE__*/_jsx(Image,{src:product.images[imageclick].src})})})]}),/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",justifyContent:\"center\",px:\"2rem\",className:\"pdpmeta\",children:[/*#__PURE__*/_jsx(Heading,{pb:\"2rem\",className:\"PDP_productTitle\",children:width<767?loading?/*#__PURE__*/_jsx(Skeleton,{width:365,height:70}):\"\".concat(product.title):loading?/*#__PURE__*/_jsx(Skeleton,{width:650,height:70}):\"\".concat(product.title)}),/*#__PURE__*/_jsx(Text,{className:\"PDP_cartprice\",fontWeight:\"bold\",pb:\"1rem\",children:loading?/*#__PURE__*/_jsx(Skeleton,{width:75,height:70}):\"$\".concat(product.variants[0].price)}),/*#__PURE__*/_jsxs(Text,{children:[extractedInfo,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",product.id,/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},className:\"prosreview\",children:/*#__PURE__*/_jsx(\"div\",{class:\"yotpo bottomLine\",\"data-product-id\":extractedInfo,style:{display:'inline-block'}})})]}),/*#__PURE__*/_jsx(Text,{pb:\"2rem\",color:\"gray.500\",className:\"propagedesc\",children:width<767?loading?/*#__PURE__*/_jsx(Skeleton,{width:365,height:200}):/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:product.description}}):loading?/*#__PURE__*/_jsx(Skeleton,{width:650,height:200}):/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:product.description}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"klarnaText\",children:[\"4 interest-free payments of $6.00. \",/*#__PURE__*/_jsx(\"strong\",{children:\"Klarna\"}),\" Learn more\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartgroup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Container cartInput\",children:/*#__PURE__*/_jsx(NumberInput,{inputProps:{'aria-label':'Product quantity'},onChange:handleProductQuantity})}),/*#__PURE__*/_jsx(\"div\",{className:\"Container cart-btn cartsize\",children:loading?/*#__PURE__*/_jsx(Skeleton,{height:42}):/*#__PURE__*/_jsx(\"button\",{className:\" animate__zoomIn animate__animated\",onClick:function onClick(){return addItemToCheckout(product.variants[0].id,1);},quantity:productQuantity,children:\"Add To Cart\"})})]})]})]})})})})})});};export default ProductPage;","map":null,"metadata":{},"sourceType":"module"}