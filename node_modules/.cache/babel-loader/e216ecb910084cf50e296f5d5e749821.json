{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Client from'shopify-buy';import{jsx as _jsx}from\"react/jsx-runtime\";var ShopContext=/*#__PURE__*/React.createContext();var client=Client.buildClient({domain:'sacheustore.myshopify.com',storefrontAccessToken:'251aff87463a43306b6c981179644ecf'});var ShopProvider=/*#__PURE__*/function(_Component){_inherits(ShopProvider,_Component);var _super=_createSuper(ShopProvider);function ShopProvider(){var _this;_classCallCheck(this,ShopProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={product:{},products:[],checkout:{},collectionId:{},isCartOpen:false,isMenuOpen:false};_this.createCheckout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var checkout;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.checkout.create();case 2:checkout=_context.sent;localStorage.setItem('checkout_id',checkout.id);_this.setState({checkout:checkout});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.fetchCheckout=function(checkoutId){client.checkout.fetch(checkoutId).then(function(checkout){_this.setState({checkout:checkout});});};_this.fetchColletion=function(collectionId){client.collection.fetch(collectionId).then(function(collection){_this.setState({collection:collection});});};_this.addItemToCheckout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(variantId,quantity){var lineItemsToAdd,checkout;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:lineItemsToAdd=[{variantId:variantId,quantity:parseInt(quantity,10)}];_context2.next=3;return client.checkout.addLineItems(_this.state.checkout.id,lineItemsToAdd);case 3:checkout=_context2.sent;_this.setState({checkout:checkout});_this.openCart();case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}();_this.removeLineItem=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(lineItemIdsToRemove){var checkout;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return client.checkout.removeLineItems(_this.state.checkout.id,lineItemIdsToRemove);case 2:checkout=_context3.sent;_this.setState({checkout:checkout});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();_this.fetchAllProducts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var products;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return client.product.fetchAll(50);case 2:products=_context4.sent;_this.setState({products:products});//console.log('ddddddddddddd',products);\ncase 4:case\"end\":return _context4.stop();}}},_callee4);}));_this.fetchAllCollectionProducts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var collections;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return client.collection.fetchAllWithProducts();case 2:collections=_context5.sent;_this.setState({collections:collections});//console.log(collections);\ncase 4:case\"end\":return _context5.stop();}}},_callee5);}));_this.fetchCollectionWithHandle=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(collectionId){var collectionsdata;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return client.collection.fetchWithProducts('Z2lkOi8vc2hvcGlmeS9Db2xsZWN0aW9uLzI3MjE2NDA2MTM3MA==');case 2:collectionsdata=_context6.sent;_this.setState({collectionsdata:collectionsdata});//console.log('cccccccc', collectionsdata);\n//console.log('xxxxxxxx',collectionsdata.products);\ncase 4:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref6.apply(this,arguments);};}();_this.fetchProductWithHandle=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(handle){var product;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return client.product.fetchByHandle(handle);case 2:product=_context7.sent;_this.setState({product:product});//console.log('tttttttttttttttt',product);\ncase 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref7.apply(this,arguments);};}();_this.closeCart=function(){_this.setState({isCartOpen:false});};_this.openCart=function(){_this.setState({isCartOpen:true});};_this.closeMenu=function(){_this.setState({isMenuOpen:false});};_this.openMenu=function(){_this.isMenuOpen({isMenuOpen:true});};return _this;}_createClass(ShopProvider,[{key:\"componentDidMount\",value:function componentDidMount(){if(localStorage.checkout_id){this.fetchCheckout(localStorage.checkout_id);}else{this.createCheckout();}}},{key:\"render\",value:function render(){console.log();return/*#__PURE__*/_jsx(ShopContext.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{fetchAllProducts:this.fetchAllProducts,fetchAllCollectionProducts:this.fetchAllCollectionProducts,fetchCollectionWithHandle:this.fetchCollectionWithHandle,fetchProductWithHandle:this.fetchProductWithHandle,addItemToCheckout:this.addItemToCheckout,removeLineItem:this.removeLineItem,closeCart:this.closeCart,openCart:this.openCart,closeMenu:this.closeMenu,openMenu:this.openMenu}),children:this.props.children});}}]);return ShopProvider;}(Component);var ShopConsumer=ShopContext.Consumer;export{ShopConsumer,ShopContext};export default ShopProvider;","map":{"version":3,"sources":["/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/src/context/ShopContext.js"],"names":["React","Component","Client","ShopContext","createContext","client","buildClient","domain","storefrontAccessToken","ShopProvider","state","product","products","checkout","collectionId","isCartOpen","isMenuOpen","createCheckout","create","localStorage","setItem","id","setState","fetchCheckout","checkoutId","fetch","then","fetchColletion","collection","addItemToCheckout","variantId","quantity","lineItemsToAdd","parseInt","addLineItems","openCart","removeLineItem","lineItemIdsToRemove","removeLineItems","fetchAllProducts","fetchAll","fetchAllCollectionProducts","fetchAllWithProducts","collections","fetchCollectionWithHandle","fetchWithProducts","collectionsdata","fetchProductWithHandle","handle","fetchByHandle","closeCart","closeMenu","openMenu","checkout_id","console","log","props","children","ShopConsumer","Consumer"],"mappings":"imCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,C,2CAEA,GAAMC,CAAAA,WAAW,cAAGH,KAAK,CAACI,aAAN,EAApB,CAEA,GAAMC,CAAAA,MAAM,CAAGH,MAAM,CAACI,WAAP,CAAmB,CAC9BC,MAAM,CAAE,2BADsB,CAE9BC,qBAAqB,CAAE,kCAFO,CAAnB,CAAf,C,GAMMC,CAAAA,Y,mVACFC,K,CAAQ,CACJC,OAAO,CAAE,EADL,CAEJC,QAAQ,CAAE,EAFN,CAGJC,QAAQ,CAAE,EAHN,CAIJC,YAAY,CAAE,EAJV,CAKJC,UAAU,CAAE,KALR,CAMJC,UAAU,CAAE,KANR,C,OAiBRC,c,sEAAiB,sKACUZ,CAAAA,MAAM,CAACQ,QAAP,CAAgBK,MAAhB,EADV,QACPL,QADO,eAEbM,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCP,QAAQ,CAACQ,EAA7C,EACA,MAAKC,QAAL,CAAc,CAAET,QAAQ,CAAEA,QAAZ,CAAd,EAHa,sD,SAMjBU,a,CAAgB,SAACC,UAAD,CAAgB,CAC5BnB,MAAM,CAACQ,QAAP,CACKY,KADL,CACWD,UADX,EAEKE,IAFL,CAEU,SAACb,QAAD,CAAc,CAChB,MAAKS,QAAL,CAAc,CAAET,QAAQ,CAAEA,QAAZ,CAAd,EACH,CAJL,EAKH,C,OAEDc,c,CAAiB,SAACb,YAAD,CAAkB,CAC/BT,MAAM,CAACuB,UAAP,CACKH,KADL,CACWX,YADX,EAEKY,IAFL,CAEU,SAACE,UAAD,CAAgB,CAClB,MAAKN,QAAL,CAAc,CAAEM,UAAU,CAAEA,UAAd,CAAd,EACH,CAJL,EAKH,C,OAEDC,iB,2FAAoB,kBAAMC,SAAN,CAAiBC,QAAjB,kJACVC,cADU,CACO,CACnB,CACIF,SAAS,CAATA,SADJ,CAEIC,QAAQ,CAAEE,QAAQ,CAACF,QAAD,CAAW,EAAX,CAFtB,CADmB,CADP,wBAOO1B,CAAAA,MAAM,CAACQ,QAAP,CAAgBqB,YAAhB,CAA6B,MAAKxB,KAAL,CAAWG,QAAX,CAAoBQ,EAAjD,CAAqDW,cAArD,CAPP,QAOVnB,QAPU,gBAQhB,MAAKS,QAAL,CAAc,CAAET,QAAQ,CAAEA,QAAZ,CAAd,EAEA,MAAKsB,QAAL,GAVgB,wD,0EAapBC,c,2FAAiB,kBAAOC,mBAAP,0JACUhC,CAAAA,MAAM,CAACQ,QAAP,CAAgByB,eAAhB,CAAgC,MAAK5B,KAAL,CAAWG,QAAX,CAAoBQ,EAApD,CAAwDgB,mBAAxD,CADV,QACPxB,QADO,gBAEb,MAAKS,QAAL,CAAc,CAAET,QAAQ,CAAEA,QAAZ,CAAd,EAFa,wD,uEAKjB0B,gB,sEAAmB,4KAEQlC,CAAAA,MAAM,CAACM,OAAP,CAAe6B,QAAf,CAAwB,EAAxB,CAFR,QAET5B,QAFS,gBAGf,MAAKU,QAAL,CAAc,CAAEV,QAAQ,CAAEA,QAAZ,CAAd,EACA;AAJe,wD,SAOnB6B,0B,sEAA6B,+KACCpC,CAAAA,MAAM,CAACuB,UAAP,CAAkBc,oBAAlB,EADD,QACnBC,WADmB,gBAEzB,MAAKrB,QAAL,CAAc,CAAEqB,WAAW,CAAEA,WAAf,CAAd,EACA;AAHyB,wD,SAM7BC,yB,2FAA4B,kBAAO9B,YAAP,iKAEMT,CAAAA,MAAM,CAACuB,UAAP,CAAkBiB,iBAAlB,CAAoC,sDAApC,CAFN,QAElBC,eAFkB,gBAGxB,MAAKxB,QAAL,CAAc,CAAEwB,eAAe,CAAEA,eAAnB,CAAd,EACA;AACA;AALwB,wD,uEAQ5BC,sB,2FAAyB,kBAAOC,MAAP,yJACC3C,CAAAA,MAAM,CAACM,OAAP,CAAesC,aAAf,CAA6BD,MAA7B,CADD,QACfrC,OADe,gBAErB,MAAKW,QAAL,CAAc,CAAEX,OAAO,CAAEA,OAAX,CAAd,EACA;AAHqB,wD,uEAMzBuC,S,CAAY,UAAM,CAAE,MAAK5B,QAAL,CAAc,CAAEP,UAAU,CAAE,KAAd,CAAd,EAAsC,C,OAC1DoB,Q,CAAW,UAAM,CAAE,MAAKb,QAAL,CAAc,CAAEP,UAAU,CAAE,IAAd,CAAd,EAAqC,C,OACxDoC,S,CAAY,UAAM,CAAE,MAAK7B,QAAL,CAAc,CAAEN,UAAU,CAAE,KAAd,CAAd,EAAsC,C,OAC1DoC,Q,CAAW,UAAM,CAAE,MAAKpC,UAAL,CAAgB,CAAEA,UAAU,CAAE,IAAd,CAAhB,EAAuC,C,yEA9E1D,4BAAoB,CAChB,GAAIG,YAAY,CAACkC,WAAjB,CAA8B,CAC1B,KAAK9B,aAAL,CAAmBJ,YAAY,CAACkC,WAAhC,EACH,CAFD,IAEO,CACH,KAAKpC,cAAL,GACH,CACJ,C,sBA0ED,iBAAS,CACLqC,OAAO,CAACC,GAAR,GACA,mBACI,KAAC,WAAD,CAAa,QAAb,EACI,KAAK,gCACE,KAAK7C,KADP,MAED6B,gBAAgB,CAAE,KAAKA,gBAFtB,CAGDE,0BAA0B,CAAE,KAAKA,0BAHhC,CAIDG,yBAAyB,CAAE,KAAKA,yBAJ/B,CAKDG,sBAAsB,CAAE,KAAKA,sBAL5B,CAMDlB,iBAAiB,CAAE,KAAKA,iBANvB,CAODO,cAAc,CAAE,KAAKA,cAPpB,CAQDc,SAAS,CAAE,KAAKA,SARf,CASDf,QAAQ,CAAE,KAAKA,QATd,CAUDgB,SAAS,CAAE,KAAKA,SAVf,CAWDC,QAAQ,CAAE,KAAKA,QAXd,EADT,UAcK,KAAKI,KAAL,CAAWC,QAdhB,EADJ,CAkBH,C,0BA9GsBxD,S,EAiH3B,GAAMyD,CAAAA,YAAY,CAAGvD,WAAW,CAACwD,QAAjC,CAEA,OAASD,YAAT,CAAuBvD,WAAvB,EAEA,cAAeM,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react'\nimport Client from 'shopify-buy'\n\nconst ShopContext = React.createContext()\n\nconst client = Client.buildClient({\n    domain: 'sacheustore.myshopify.com',\n    storefrontAccessToken: '251aff87463a43306b6c981179644ecf'\n});\n\n\nclass ShopProvider extends Component {\n    state = {\n        product: {},\n        products: [],\n        checkout: {},\n        collectionId: {},\n        isCartOpen: false,\n        isMenuOpen: false\n    }\n\n    componentDidMount() {\n        if (localStorage.checkout_id) {\n            this.fetchCheckout(localStorage.checkout_id)\n        } else {\n            this.createCheckout()\n        }\n    }\n\n    createCheckout = async () => {\n        const checkout = await client.checkout.create()\n        localStorage.setItem('checkout_id', checkout.id)\n        this.setState({ checkout: checkout })\n    }\n\n    fetchCheckout = (checkoutId) => {\n        client.checkout\n            .fetch(checkoutId)\n            .then((checkout) => {\n                this.setState({ checkout: checkout })\n            })\n    }\n\n    fetchColletion = (collectionId) => {\n        client.collection\n            .fetch(collectionId)\n            .then((collection) => {\n                this.setState({ collection: collection })\n            })\n    }\n\n    addItemToCheckout = async(variantId, quantity) => {\n        const lineItemsToAdd = [\n            {\n                variantId,\n                quantity: parseInt(quantity, 10)\n            }\n        ]\n        const checkout = await client.checkout.addLineItems(this.state.checkout.id, lineItemsToAdd)\n        this.setState({ checkout: checkout})\n\n        this.openCart()\n    }\n\n    removeLineItem = async (lineItemIdsToRemove) => {\n        const checkout = await client.checkout.removeLineItems(this.state.checkout.id, lineItemIdsToRemove)\n        this.setState({ checkout: checkout })\n    }\n\n    fetchAllProducts = async () => {\n        //using fetchall(50) - you can fetch 50 products from Shopify Store\n        const products = await client.product.fetchAll(50);\n        this.setState({ products: products })\n        //console.log('ddddddddddddd',products);\n    }\n\n    fetchAllCollectionProducts = async () => {\n        const collections = await client.collection.fetchAllWithProducts(  );\n        this.setState({ collections: collections })\n        //console.log(collections);\n    }\n\n    fetchCollectionWithHandle = async (collectionId) => {\n        //const collectionsdata = await client.collection.fetchWithProducts(collectionId)\n        const collectionsdata = await client.collection.fetchWithProducts('Z2lkOi8vc2hvcGlmeS9Db2xsZWN0aW9uLzI3MjE2NDA2MTM3MA==')\n        this.setState({ collectionsdata: collectionsdata })\n        //console.log('cccccccc', collectionsdata);\n        //console.log('xxxxxxxx',collectionsdata.products);\n    }\n\n    fetchProductWithHandle = async (handle) => {\n        const product = await client.product.fetchByHandle(handle)\n        this.setState({ product: product })\n        //console.log('tttttttttttttttt',product);\n    }\n\n    closeCart = () => { this.setState({ isCartOpen: false }) }\n    openCart = () => { this.setState({ isCartOpen: true }) }\n    closeMenu = () => { this.setState({ isMenuOpen: false }) }\n    openMenu = () => { this.isMenuOpen({ isMenuOpen: true }) }\n\n    render() {\n        console.log()\n        return (\n            <ShopContext.Provider\n                value={{\n                    ...this.state,\n                    fetchAllProducts: this.fetchAllProducts,\n                    fetchAllCollectionProducts: this.fetchAllCollectionProducts,\n                    fetchCollectionWithHandle: this.fetchCollectionWithHandle,\n                    fetchProductWithHandle: this.fetchProductWithHandle,\n                    addItemToCheckout: this.addItemToCheckout,\n                    removeLineItem: this.removeLineItem,\n                    closeCart: this.closeCart,\n                    openCart: this.openCart,\n                    closeMenu: this.closeMenu,\n                    openMenu: this.openMenu\n                }}>\n                {this.props.children}\n            </ShopContext.Provider>\n        )\n    }\n}\n\nconst ShopConsumer = ShopContext.Consumer\n\nexport { ShopConsumer, ShopContext }\n\nexport default ShopProvider"]},"metadata":{},"sourceType":"module"}