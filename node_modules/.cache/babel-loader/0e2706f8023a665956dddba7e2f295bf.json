{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import{Link}from'react-router-dom';import{ShopContext}from'../context/ShopContext';import Skeleton from'react-loading-skeleton';import{Box,Image}from'@chakra-ui/react';import'../assets/CSS/shoppage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ShopProducts=function ShopProducts(){var _useContext=useContext(ShopContext),fetchAllProducts=_useContext.fetchAllProducts,products=_useContext.products,addItemToCheckout=_useContext.addItemToCheckout,product=_useContext.product;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){setTimeout(function(){return setLoading(false);},2000);fetchAllProducts();localStorage.setItem(\"allproducts\",JSON.stringify(products));var allpros=localStorage.getItem(\"allproducts\");setLoading(JSON.parse(allpros));},[fetchAllProducts]);console.log('Shop-Products',products);var extractedInfo=\"\";/*if (products.id) {\n        const buff = Buffer.from(products?.id, 'base64');\n        const decodedId = buff.toString('ascii');\n        extractedInfo = decodedId.split(/[\\s/]+/).pop();\n    }*/ //console.log(products[0].id)\nif(!products)return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"loading\",children:\"Loading\\u2026\"})});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(\"div\",{className:\"product-listing\",children:products.map(function(product){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"itemBox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[product.variants[0].compareAtPrice>product.variants[0].price?/*#__PURE__*/_jsx(\"span\",{className:\"sale\",children:\"SALE\"}):/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"imageContainer\",children:/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.handle),\"aria-label\":\"Navigate to \".concat(product.title,\" product page\"),children:[loading&&/*#__PURE__*/_jsx(Skeleton,{height:306}),!loading&&/*#__PURE__*/_jsx(Image,{src:product.images[0].src,height:316})]},product.id)}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfo\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.handle),children:[loading&&/*#__PURE__*/_jsx(Skeleton,{height:30}),!loading&&/*#__PURE__*/_jsx(\"h3\",{className:\"itemName\",children:product.title})]}),/*#__PURE__*/_jsx(\"p\",{className:\"relatedProPrice\",children:loading?/*#__PURE__*/_jsx(Skeleton,{height:30}):\"$\".concat(product.variants[0].price)}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"div\",{class:\"yotpo bottomLine\",\"data-product-id\":\"4746070032433\",style:{display:'inline-block'}})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"button small fit\",onClick:function onClick(){return addItemToCheckout(product.variants[0].id,1);},children:\"Buy Now\"})]})]})},product.id)});})})})});};export default ShopProducts;","map":{"version":3,"sources":["/home/ubuntu/Desktop/ChakraUI/reactworld-pwa/src/shop_component/ShopProducts.js"],"names":["React","useContext","useEffect","useState","Link","ShopContext","Skeleton","Box","Image","ShopProducts","fetchAllProducts","products","addItemToCheckout","product","loading","setLoading","setTimeout","localStorage","setItem","JSON","stringify","allpros","getItem","parse","console","log","extractedInfo","map","variants","compareAtPrice","price","handle","title","images","src","id","textAlign","display"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { ShopContext } from '../context/ShopContext'\nimport Skeleton from 'react-loading-skeleton'\nimport { Box, Image } from '@chakra-ui/react'\nimport '../assets/CSS/shoppage.css'\nconst ShopProducts = () => {\n    const { fetchAllProducts, products, addItemToCheckout, product } = useContext(ShopContext)\n    const [loading, setLoading] = useState(true);\n    useEffect(() => {\n        setTimeout(() => setLoading(false), 2000);\n        fetchAllProducts()\n        localStorage.setItem(\"allproducts\",JSON.stringify(products))\n        let allpros= localStorage.getItem(\"allproducts\")\n        setLoading(JSON.parse(allpros))\n    }, [fetchAllProducts])\n    console.log('Shop-Products', products)\n\n    let extractedInfo = \"\";\n    /*if (products.id) {\n        const buff = Buffer.from(products?.id, 'base64');\n        const decodedId = buff.toString('ascii');\n        extractedInfo = decodedId.split(/[\\s/]+/).pop();\n    }*/\n    //console.log(products[0].id)\n\n    if (!products) return <div><div class=\"loading\">Loading&#8230;</div></div>\n\n    return (\n        <>\n            <Box>\n                <div className=\"product-listing\">\n                    {products.map((product) => (\n                        <>\n                            <div className=\"itemBox\" key={product.id}>\n                                <div className=\"item\">\n                                    {product.variants[0].compareAtPrice > product.variants[0].price ? (<span className=\"sale\">SALE</span>) : (<span></span>)}\n                                    <div className=\"imageContainer\">\n                                        <Link to={`/products/${product.handle}`} key={product.id} aria-label={`Navigate to ${product.title} product page`}>\n                                            {loading && <Skeleton height={306} />}\n                                            {!loading && <Image src={product.images[0].src} height={316} />}\n                                        </Link>\n                                    </div>\n                                    <div className=\"productInfo\">\n                                        <Link to={`/products/${product.handle}`}>\n                                            {loading && <Skeleton height={30} />}\n                                            {!loading && <h3 className=\"itemName\">{product.title}</h3>}\n                                        </Link>\n                                        <p className=\"relatedProPrice\">\n                                            {loading ? <Skeleton height={30} /> : `$${product.variants[0].price}`}\n                                        </p>\n                                        <div style={{ textAlign: 'center' }}>\n                                            <div class=\"yotpo bottomLine\" data-product-id=\"4746070032433\" style={{ display: 'inline-block' }}></div>\n                                        </div>\n\n                                        <a href=\"#\" className=\"button small fit\" onClick={() => addItemToCheckout(product.variants[0].id, 1)}>\n                                            Buy Now\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n                        </>\n                    ))}\n                </div>\n            </Box>\n        </>\n    )\n}\n\nexport default ShopProducts\n"]},"metadata":{},"sourceType":"module"}